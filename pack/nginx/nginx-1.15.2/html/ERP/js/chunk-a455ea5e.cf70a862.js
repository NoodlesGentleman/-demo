(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a455ea5e"],{"0470":function(t,e,a){"use strict";var s=a("9156"),r=a.n(s);r.a},9156:function(t,e,a){},9865:function(t,e,a){"use strict";var s=a("5ca1"),r=a("6821"),i=a("4588"),n=a("9def"),o=[].lastIndexOf,l=!!o&&1/[1].lastIndexOf(1,-0)<0;s(s.P+s.F*(l||!a("2f21")(o)),"Array",{lastIndexOf:function(t){if(l)return o.apply(this,arguments)||0;var e=r(this),a=n(e.length),s=a-1;for(arguments.length>1&&(s=Math.min(s,i(arguments[1]))),s<0&&(s=a+s);s>=0;s--)if(s in e&&e[s]===t)return s||0;return-1}})},"9e44":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Card",{staticClass:"cardHeight"},[a("h2",[t._v("零件信息")]),a("div",{staticClass:"inputModel"},[a("span",{staticClass:"inputTitle"},[t._v("选择添加类型：")]),a("Select",{staticStyle:{width:"280px"},attrs:{size:"large",placeholder:"请选择添加类型"},model:{value:t.addType,callback:function(e){t.addType=e},expression:"addType"}},t._l(t.addTypeList,function(e){return a("Option",{key:e.id,attrs:{value:e.code}},[t._v(t._s(e.displayValue))])}),1)],1),a("div",{staticStyle:{margin:"0 10px"}},[2===t.addType?a("Button",{attrs:{type:"primary"},on:{click:function(e){t.partListModal=!0}}},[t._v("选择零件")]):t._e()],1),a("Modal",{attrs:{"mask-closable":!1,width:1e3,"class-name":"vertical-center-modal"},model:{value:t.partListModal,callback:function(e){t.partListModal=e},expression:"partListModal"}},[a("p",{staticStyle:{"text-align":"center",color:"orange"},attrs:{slot:"header"},slot:"header"},[a("span",[t._v("零件列表，单击一行选中想要的数据")])]),a("div",{staticStyle:{"text-align":"center",overfllow:"auto"}},[a("div",{staticClass:"inputModel"},[a("span",{staticClass:"inputTitle"},[t._v("零件编号：")]),a("Input",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入零件编号"},model:{value:t.partListParams.partCode,callback:function(e){t.$set(t.partListParams,"partCode",e)},expression:"partListParams.partCode"}})],1),a("div",{staticClass:"inputModel"},[a("span",{staticClass:"inputTitle"},[t._v("零件名称：")]),a("Input",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入零件名称"},model:{value:t.partListParams.partName,callback:function(e){t.$set(t.partListParams,"partName",e)},expression:"partListParams.partName"}})],1),a("div",{staticClass:"inputModel"},[a("span",{staticClass:"inputTitle"},[t._v("零件类别：")]),a("Select",{staticStyle:{width:"150px"},attrs:{placeholder:"请选择零件类别："},model:{value:t.partListParams.type,callback:function(e){t.$set(t.partListParams,"type",e)},expression:"partListParams.type"}},t._l(t.devModelTypeList,function(e){return a("Option",{key:e.id,attrs:{value:e.code}},[t._v(t._s(e.displayValue))])}),1)],1),a("Button",{staticStyle:{margin:"0 20px"},attrs:{type:"primary"},on:{click:t.queryPart}},[t._v("查询")]),a("Table",{attrs:{"highlight-row":"",columns:t.partListColums,data:t.partList},on:{"on-current-change":t.onSelectChange_part}}),a("Page",{attrs:{total:t.totals_part,"show-total":"","show-elevator":"","show-sizer":""},on:{"on-change":t.handlePage_part,"on-page-size-change":t.handlePageSize_part}})],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"primary"},on:{click:t.confirm_part}},[t._v("确认")]),a("Button",{attrs:{type:"primary"},on:{click:function(e){t.partListModal=!1}}},[t._v("取消")])],1)]),a("div",{staticClass:"inputModel"},[a("span",{staticClass:"inputTitle"},[t._v("零件编号：")]),a("Input",{staticClass:"input",attrs:{disabled:2===t.addType,size:"large",placeholder:"请输入零件编号"},model:{value:t.addPartParams.partCode,callback:function(e){t.$set(t.addPartParams,"partCode",e)},expression:"addPartParams.partCode"}})],1),a("div",{staticClass:"inputModel"},[a("span",{staticClass:"inputTitle"},[t._v("零件名称：")]),a("Input",{staticClass:"input",attrs:{disabled:2===t.addType,size:"large",placeholder:"请输入零件名称"},model:{value:t.addPartParams.partName,callback:function(e){t.$set(t.addPartParams,"partName",e)},expression:"addPartParams.partName"}})],1),a("div",{staticClass:"inputModel"},[a("span",{staticClass:"inputTitle"},[t._v("零件类别：")]),a("Select",{staticStyle:{width:"280px"},attrs:{disabled:2===t.addType,size:"large",placeholder:"请选择零件类别："},model:{value:t.addPartParams.type,callback:function(e){t.$set(t.addPartParams,"type",e)},expression:"addPartParams.type"}},t._l(t.devModelTypeList,function(e){return a("Option",{key:e.id,attrs:{value:e.code}},[t._v(t._s(e.displayValue))])}),1)],1),a("div",{staticClass:"inputModel"},[a("span",{staticClass:"inputTitle"},[t._v("零件规格：")]),a("Input",{staticClass:"input",attrs:{disabled:2===t.addType,size:"large",placeholder:"请输入零件规格："},model:{value:t.addPartParams.specs,callback:function(e){t.$set(t.addPartParams,"specs",e)},expression:"addPartParams.specs"}})],1),a("div",{staticClass:"inputModel"},[a("span",{staticClass:"inputTitle"},[t._v("零件版本号：")]),a("Input",{staticClass:"input",attrs:{size:"large",placeholder:"请输入版本号"},model:{value:t.addPartParams.version,callback:function(e){t.$set(t.addPartParams,"version",e)},expression:"addPartParams.version"}})],1),a("div",{staticClass:"inputModel"},[a("span",{staticClass:"inputTitle"},[t._v("零件描述：")]),a("Input",{staticStyle:{width:"680px"},attrs:{type:"textarea",autosize:{minRows:2,maxRows:5},placeholder:"请输入零件描述"},model:{value:t.addPartParams.discription,callback:function(e){t.$set(t.addPartParams,"discription",e)},expression:"addPartParams.discription"}})],1),a("uploadFile",{attrs:{UPtitle:"零件图纸上传："},on:{toUpFileList:t.toUpFileList}}),a("div",{staticClass:"newLine",staticStyle:{"text-align":"center"}},[a("Button",{staticStyle:{margin:"0 10px"},attrs:{type:"primary"},on:{click:t.addPart}},[t._v("提交")]),a("Button",{staticStyle:{margin:"0 10px"},attrs:{type:"primary"}},[t._v("取消")])],1)],1)],1)},r=[],i=a("f499"),n=a.n(i),o=(a("96cf"),a("3b8d")),l=(a("f3e2"),a("d225")),c=a("b0b4"),u=a("308d"),p=a("6bb5"),d=a("4e2b"),f=a("9ab4"),m=a("d265"),h=a("fe47"),y=a("a542"),v=function(t){function e(){var t;return Object(l["a"])(this,e),t=Object(u["a"])(this,Object(p["a"])(e).apply(this,arguments)),t.addType="",t.addTypeList=[{code:1,displayValue:"新建零件"},{code:2,displayValue:"新版本零件"}],t.statusList=[{code:1,displayValue:"正常",keyWord:"status"},{code:2,displayValue:"禁用",keyWord:"status"}],t.partListModal=!1,t.partListParams={pageNum:1,pageSize:10},t.partListColums=[{title:"零件编号",align:"center",key:"partCode"},{title:"零件名称",align:"center",key:"partName"},{title:"零件发行版本",align:"center",key:"currentVersion"},{title:"最后修改时间",align:"center",key:"updateTime"},{title:"零件类别",align:"center",key:"type",render:function(e,a){return e("Tag",{style:{background:"#fff",border:"none"}},t.filter_type(a.row.type))}},{title:"状态",align:"center",key:"status",render:function(e,a){return e("Tag",{style:{background:"#fff",border:"none"}},t.filter_status(a.row.status))}}],t.middleList=[],t.partList=[],t.totals_part=0,t.addPartParams={id:"",specs:"",discription:"",partCode:"",partName:"",currentVersion:"",status:"",type:"",createTime:"",updateTime:"",createUser:"",updateUser:"",currentVersionId:"",version:"",attachment:""},t}return Object(d["a"])(e,t),Object(c["a"])(e,[{key:"mounted",value:function(){this._getDevPartListByQuery(this.partListParams)}},{key:"queryPart",value:function(){this._getDevPartListByQuery(this.partListParams)}},{key:"onSelectChange_part",value:function(t){this.middleList=t}},{key:"confirm_part",value:function(){this.addPartParams=this.middleList,this.partListModal=!1}},{key:"addPart",value:function(){this._newDevPart(this.addPartParams)}},{key:"handlePage_part",value:function(t){this.partListParams.pageNum=t,this._getDevPartListByQuery(this.partListParams)}},{key:"handlePageSize_part",value:function(t){this.partListParams.pageSize=t,this._getDevPartListByQuery(this.partListParams)}},{key:"filter_status",value:function(t){var e="";return this.statusList.forEach(function(a){a.code===t&&(e=a.displayValue)}),e}},{key:"filter_type",value:function(t){var e="";return this.devModelTypeList.forEach(function(a){a.code===t&&(e=a.displayValue)}),e}},{key:"_getDevPartListByQuery",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(y["g"])(e);case 2:a=t.sent,0===a.responseCode?(this.partList=a.responseData.rows,this.totals_part=a.responseData.total):this.$Message.error(a.responseMessage);case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},{key:"_newDevPart",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(""!==this.addPartParams.partCode&&void 0!==this.addPartParams.version){t.next=3;break}return this.$Message.warning("请输入零件编号"),t.abrupt("return");case 3:if(""!==this.addPartParams.partName&&void 0!==this.addPartParams.version){t.next=6;break}return this.$Message.warning("请输入零件名称"),t.abrupt("return");case 6:if(""!==this.addPartParams.version&&void 0!==this.addPartParams.version){t.next=9;break}return this.$Message.warning("请输入零件版本号"),t.abrupt("return");case 9:return t.next=11,Object(y["n"])(e);case 11:a=t.sent,0===a.responseCode?(this.$Message.success("新建成功"),this.$router.push({name:"AccessoryList"})):this.$Message.error(a.responseMessage);case 13:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},{key:"toUpFileList",value:function(t){this.addPartParams.attachment=n()(t)}},{key:"devModelTypeList",get:function(){return this.$store.state.optionItems.devModelTypeList}}]),e}(m["c"]);v=f["a"]([Object(m["a"])({components:{uploadFile:h["a"]}})],v);var g=v,P=g,b=(a("0470"),a("2877")),_=Object(b["a"])(P,s,r,!1,null,"4c0c842e",null);e["default"]=_.exports},a542:function(t,e,a){"use strict";a.d(e,"d",function(){return n}),a.d(e,"k",function(){return o}),a.d(e,"f",function(){return l}),a.d(e,"m",function(){return c}),a.d(e,"c",function(){return u}),a.d(e,"e",function(){return p}),a.d(e,"g",function(){return d}),a.d(e,"h",function(){return f}),a.d(e,"i",function(){return m}),a.d(e,"n",function(){return h}),a.d(e,"o",function(){return y}),a.d(e,"p",function(){return v}),a.d(e,"j",function(){return g}),a.d(e,"a",function(){return P}),a.d(e,"b",function(){return b}),a.d(e,"q",function(){return _}),a.d(e,"l",function(){return k});var s=a("4576"),r=a("4328"),i=a.n(r),n=function(t){return s["a"].post("/api/getDevModelListByQuery",i.a.stringify(t))},o=function(){return s["a"].post("/api/user/getGroupList")},l=function(t){return s["a"].post("/api/getDevModelWithVersion",i.a.stringify(t))},c=function(t){return s["a"].post("/api/newDevModel",i.a.parse(t),{headers:{"Content-Type":"application/json;charset=UTF-8"}})},u=function(t){return s["a"].post("/api//getDevModelDetail",i.a.stringify(t))},p=function(t){return s["a"].post("/api/getDevModelVersionList",i.a.stringify(t))},d=function(t){return s["a"].post("/api/getDevPartListByQuery",i.a.stringify(t))},f=function(t){return s["a"].post("/api/getDevPartVersionList",i.a.stringify(t))},m=function(t){return s["a"].post("/api/getDevPartWithVersion",i.a.stringify(t))},h=function(t){return s["a"].post("/api/newDevPart",i.a.stringify(t))},y=function(t){return s["a"].post("/api/updateDevModel",i.a.parse(t),{headers:{"Content-Type":"application/json;charset=UTF-8"}})},v=function(t){return s["a"].post("/api/updateDevPart",i.a.stringify(t))},g=function(){return s["a"].post("/api/getDevelopOptionGroup")},P=function(t){return s["a"].post("/api/addDevelopOptionItem",i.a.stringify(t))},b=function(t){return s["a"].post("/api/deleteDevelopOptionItem",i.a.stringify(t))},_=function(t){return s["a"].post("/api/updateDevelopOptionItem",i.a.stringify(t))},k=function(t){return s["a"].get("/api/system/getOptionItemById",t)}},bf04:function(t,e,a){},e6e8:function(t,e,a){"use strict";var s=a("bf04"),r=a.n(s);r.a},f046:function(t,e,a){"use strict";a.d(e,"b",function(){return n}),a.d(e,"a",function(){return o});var s=a("4576"),r=a("4328"),i=a.n(r),n=function(){return s["a"].post("/api/devUpload/getAliUploadAccess")},o=function(t){return s["a"].post("/api/devUpload/getAliImageUrl",i.a.stringify({imageUrl:t}))}},fe47:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"upload"},[a("span",{staticClass:"star"},[t._v(t._s(t.UPtitle))]),a("Upload",{ref:"commupload",staticStyle:{display:"inline-block",width:"auto"},attrs:{"show-upload-list":!0,"on-remove":t.handleRemove_comm,"on-success":t.handleSuccess_comm,"default-file-list":t.commExistImg,"before-upload":t.handleBeforeUpload_comm,type:"drag",action:t.host,data:t.uploadData}},[a("div",{staticClass:"contain"},[a("Icon",{attrs:{type:"ios-folder",size:"24"}})],1)])],1)},r=[],i=(a("9865"),a("57e7"),a("7f7f"),a("96cf"),a("3b8d")),n=a("d225"),o=a("b0b4"),l=a("308d"),c=a("6bb5"),u=a("4e2b"),p=a("9ab4"),d=a("d265"),f=a("f046"),m=function(t){function e(){var t;return Object(n["a"])(this,e),t=Object(l["a"])(this,Object(c["a"])(e).apply(this,arguments)),t.toUpFileList=[],t.accessid="",t.signature="",t.expire="",t.host="",t.dir="",t.policy="",t.uploadFileName="",t.uploadData={},t}return Object(u["a"])(e,t),Object(o["a"])(e,[{key:"handleSuccess_comm",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e,a){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.toUpFileList.push({url:this.uploadFileName}),this.$emit("toUpFileList",this.toUpFileList);case 2:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}()},{key:"handleBeforeUpload_comm",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(f["b"])();case 2:return a=t.sent,this.host=a.responseData.host,this.accessid=a.responseData.accessid,this.expire=a.responseData.expire,this.dir=a.responseData.dir,this.policy=a.responseData.policy,this.signature=a.responseData.signature,t.next=11,this._getFileName(e.name);case 11:this.uploadFileName=t.sent,this.uploadData={key:this.uploadFileName,policy:this.policy,OSSAccessKeyId:this.accessid,success_action_status:"200",signature:this.signature};case 13:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},{key:"handleRemove_comm",value:function(t){this.toUpFileList.splice(this.toUpFileList.indexOf(t),1),this.$emit("toUpFileList",this.toUpFileList)}},{key:"_getFileName",value:function(t){return this.dir+this._randomString(10)+"/"+t}},{key:"_getSuffix",value:function(t){var e=t.lastIndexOf("."),a="";return-1!==e&&(a=t.substring(e)),a}},{key:"_randomString",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32,e="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678",a=e.length,s="",r=0;r<t;r++)s+=e.charAt(Math.floor(Math.random()*a));return s}}]),e}(d["c"]);p["a"]([Object(d["b"])()],m.prototype,"commExistImg",void 0),p["a"]([Object(d["b"])()],m.prototype,"UPtitle",void 0),m=p["a"]([Object(d["a"])({})],m);var h=m,y=h,v=(a("e6e8"),a("2877")),g=Object(v["a"])(y,s,r,!1,null,"6e461ace",null),P=g.exports;e["a"]=P}}]);