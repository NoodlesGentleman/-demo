(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3f9df7cc"],{"0540":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("Form",{ref:"formValidate",attrs:{inline:"","label-width":80}},[r("FormItem",[r("Button",{staticStyle:{"margin-left":"8px"},attrs:{icon:"md-add",type:"primary"},on:{click:function(e){return t.$router.push({name:"operatProduct"})}}},[t._v("新增商品")])],1),r("FormItem",{attrs:{label:"商品类型"}},[r("Select",{attrs:{placeholder:"请选择商品类型"},model:{value:t.searchParams.type,callback:function(e){t.$set(t.searchParams,"type",e)},expression:"searchParams.type"}},t._l(t.typeList,function(e){return r("Option",{key:e.id,attrs:{value:e.code}},[t._v(t._s(e.displayValue))])}),1)],1),r("FormItem",[r("Button",{staticStyle:{"margin-left":"8px"},attrs:{icon:"md-search",type:"primary"},on:{click:t.search}},[t._v("查询")]),r("Button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary"},on:{click:t.reset}},[t._v("重置")])],1)],1),r("Table",{attrs:{border:"",columns:t.columns,data:t.productList}}),r("div",{staticClass:"page"},[r("Page",{attrs:{total:t.totals,"show-total":"","show-elevator":"","show-sizer":""},on:{"on-change":t.handlePage,"on-page-size-change":t.handlePageSize}})],1)],1)},s=[],n=(r("96cf"),r("3b8d")),i=r("c40e"),c=r("90fe"),o={data:function(){var t=this;return{typeList:[{id:0,code:1,displayValue:"手机"},{id:1,code:2,displayValue:"耳机"},{id:2,code:3,displayValue:"配件"},{id:3,code:4,displayValue:"周边"}],searchParams:{pageNum:1,pageSize:10,type:""},productList:[],totals:0,columns:[{title:"商品图",key:"homeUrl",width:200,render:function(t,e){return t("img",{attrs:{src:e.row.homeUrl,style:"width: 100px;"}})}},{title:"商品名称",key:"productName"},{title:"商品类型",key:"type",render:function(e,r){return e("div",[e("span",Object(c["a"])(r.row.type,t.typeList))])}},{title:"商品描述",key:"productDesc"},{title:"单价",key:"price"},{title:"库存",key:"productNum",render:function(t,e){return t("div",[t("InputNumber",{props:{max:5,min:1,value:e.row.productNum},on:{"on-change":function(t){}}})])}},{title:"操作",key:"action",width:150,align:"center",render:function(e,r){return e("div",[e("Button",{props:{type:"error",size:"small"},style:{margin:"0 10px"},on:{click:function(){t.remove(r)}}},"删除"),e("Button",{props:{type:"primary",size:"small"},on:{click:function(){t.update(r)}}},"修改")])}}]}},mounted:function(){this._getProductList(this.searchParams)},methods:{remove:function(t){var e=this;this.$Modal.confirm({title:"您正在做删除操作，确认继续删除吗？",onOk:function(){e._removeProductById({_id:t.row._id})}})},update:function(t){this.$router.push({name:"operatProduct",query:{_id:t.row._id,type:t.row.type}})},addProduct:function(){this.add_modal=!0},search:function(){this.searchParams.pageNum=1,this._getProductList(this.searchParams)},reset:function(){this.searchParams={pageNum:1,pageSize:10,type:"",productName:""}},handlePage:function(t){this.searchParams.pageNum=t,this._getProductList(this.searchParams)},handlePageSize:function(t){this.searchParams.pageSize=t,this._getProductList(this.searchParams)},_removeProductById:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(e){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(i["g"])(e);case 2:r=t.sent,0==r.status&&(this.$Message.success("删除成功！"),this._getProductList(this.searchParams));case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),_getProductList:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(e){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.$Spin.show(),t.next=3,Object(i["d"])(e);case 3:r=t.sent,0==r.status&&(this.productList=r.result.rows,this.totals=r.result.totals,this.$Spin.hide());case 5:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()}},u=o,d=(r("96cc"),r("2877")),l=Object(d["a"])(u,a,s,!1,null,"0622cd12",null);e["default"]=l.exports},"96cc":function(t,e,r){"use strict";var a=r("babd"),s=r.n(a);s.a},babd:function(t,e,r){}}]);