(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b26e111a"],{"19d5":function(e,t,s){"use strict";var r=s("9004"),a=s.n(r);a.a},2071:function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"layout"},[s("h2",[e._v("我的收货地址")]),e._l(e.addressList,function(t){return s("address",{key:t._id,staticClass:"addressList"},[s("span",{staticClass:"edit",on:{click:function(s){return e.addressChange(t._id)}}},[s("Icon",{attrs:{type:"md-create"}})],1),s("span",{staticClass:"close",on:{click:function(s){return e.addressRemove(t._id)}}},[s("Icon",{attrs:{type:"md-close"}})],1),s("span",{directives:[{name:"show",rawName:"v-show",value:1==t.isDefault,expression:"item.isDefault == 1"}],staticClass:"default"},[e._v("默认地址")]),s("div",{staticClass:"first-row"},[s("span",[e._v(e._s(t.userName))]),s("span",[e._v(e._s(t.tel))])]),s("div",{staticClass:"street"},[e._v(e._s(t.streetName))])])}),s("Button",{attrs:{icon:"md-add",type:"primary"},on:{click:function(t){e.addressModal=!0}}},[e._v("添加收货人地址")]),s("Modal",{attrs:{title:"Custom width",width:"720"},model:{value:e.addressModal,callback:function(t){e.addressModal=t},expression:"addressModal"}},[s("div",{staticStyle:{"font-weight":"bld","text-align":"center",color:"orange"},attrs:{slot:"header"},slot:"header"},[e._v(" 请填写您的收货地址！")]),s("Form",{attrs:{model:e.formItem,"label-width":120}},[s("FormItem",{attrs:{label:"姓名"}},[s("Input",{attrs:{placeholder:"请输入详细地址"},model:{value:e.formItem.userName,callback:function(t){e.$set(e.formItem,"userName",t)},expression:"formItem.userName"}})],1),s("FormItem",{attrs:{label:"联系电话"}},[s("Input",{attrs:{placeholder:"请输入联系电话"},model:{value:e.formItem.tel,callback:function(t){e.$set(e.formItem,"tel",t)},expression:"formItem.tel"}})],1),s("FormItem",{attrs:{label:"地址"}},[s("Input",{attrs:{placeholder:"请输入详细地址"},model:{value:e.formItem.streetName,callback:function(t){e.$set(e.formItem,"streetName",t)},expression:"formItem.streetName"}})],1),s("FormItem",{attrs:{label:"是否默认地址"}},[s("Select",{staticStyle:{width:"200px"},model:{value:e.formItem.isDefault,callback:function(t){e.$set(e.formItem,"isDefault",t)},expression:"formItem.isDefault"}},e._l(e.commlist,function(t){return s("Option",{key:t.id,attrs:{value:t.code}},[e._v(e._s(t.displayValue))])}),1)],1),s("FormItem",{attrs:{label:"备注"}},[s("Input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:5},placeholder:"请输入您的备注"},model:{value:e.formItem.memo,callback:function(t){e.$set(e.formItem,"memo",t)},expression:"formItem.memo"}})],1),s("FormItem",[s("Button",{attrs:{type:"primary"},on:{click:e.submitAddress}},[e._v("提交")]),s("Button",{staticStyle:{"margin-left":"8px"},on:{click:e.closeModal}},[e._v("取消")])],1)],1),s("div",{attrs:{slot:"footer"},slot:"footer"})],1)],2)},a=[],n=(s("96cf"),s("3b8d")),i=s("c24f"),o={data:function(){return{commlist:[{code:1,id:1,displayValue:"是"},{code:2,id:2,displayValue:"否"}],addressModal:!1,addressList:[],formItem:{_id:"",userName:"",streetName:"",tel:"",isDefault:"",memo:""}}},mounted:function(){this._getAddressList()},methods:{submitAddress:function(){this.formItem.userName?this.formItem.tel?this.formItem.streetName?this.formItem._id?this._addressUpdate(this.formItem):this._addAddress(this.formItem):this.$Message.warning("请输入收货人详细地址"):this.$Message.warning("请输入收货人手机号"):this.$Message.warning("请输入收货人姓名")},_addAddress:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["a"])(t);case 2:s=e.sent,0==s.status&&(this.$Message.success("地址新增成功"),this.closeModal());case 4:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),_addressUpdate:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["c"])(t);case 2:s=e.sent,0==s.status&&(this.$Message.success("地址更新成功"),this.formItem={_id:"",userName:"",streetName:"",tel:"",isDefault:"",memo:""},this.closeModal());case 4:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),addressChange:function(e){this._getAddressById({_id:e}),this.addressModal=!0},addressRemove:function(e){var t=this;this.$Modal.confirm({title:"警告",content:"正在做删除地址操作，确定要继续吗？",okText:"确定",cancelText:"取消",onOk:function(){t._addressRemove({_id:e})}})},closeModal:function(){this._getAddressList(),this.addressModal=!1},_getAddressById:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["g"])(t);case 2:s=e.sent,0==s.status&&(this.formItem=s.result);case 4:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),_getAddressList:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.$Spin.show(),e.next=3,Object(i["h"])();case 3:t=e.sent,0==t.status&&(this.addressList=t.result,this.$Spin.hide());case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),_addressRemove:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["b"])(t);case 2:s=e.sent,0==s.status&&(this.$Message.success("删除成功"),this._getAddressList());case 4:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}},c=o,d=(s("19d5"),s("2877")),u=Object(d["a"])(c,r,a,!1,null,"7398c4a6",null);t["default"]=u.exports},9004:function(e,t,s){}}]);