(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9a47e920"],{"06db":function(t,n,i){"use strict";var e=i("23c6"),r={};r[i("2b4c")("toStringTag")]="z",r+""!="[object z]"&&i("2aba")(Object.prototype,"toString",function(){return"[object "+e(this)+"]"},!0)},"09fa":function(t,n,i){var e=i("4588"),r=i("9def");t.exports=function(t){if(void 0===t)return 0;var n=e(t),i=r(n);if(n!==i)throw RangeError("Wrong length!");return i}},"0a49":function(t,n,i){var e=i("9b43"),r=i("626a"),o=i("4bf8"),s=i("9def"),a=i("cd1c");t.exports=function(t,n){var i=1==t,c=2==t,h=3==t,l=4==t,u=6==t,f=5==t||u,m=n||a;return function(n,a,p){for(var g,d,v=o(n),y=r(v),x=e(a,p,3),b=s(y.length),w=0,M=i?m(n,b):c?m(n,0):void 0;b>w;w++)if((f||w in y)&&(g=y[w],d=x(g,w,v),t))if(i)M[w]=d;else if(d)switch(t){case 3:return!0;case 5:return g;case 6:return w;case 2:M.push(g)}else if(l)return!1;return u?-1:h||l?l:M}}},"0bfb":function(t,n,i){"use strict";var e=i("cb7c");t.exports=function(){var t=e(this),n="";return t.global&&(n+="g"),t.ignoreCase&&(n+="i"),t.multiline&&(n+="m"),t.unicode&&(n+="u"),t.sticky&&(n+="y"),n}},"0f88":function(t,n,i){var e,r=i("7726"),o=i("32e9"),s=i("ca5a"),a=s("typed_array"),c=s("view"),h=!(!r.ArrayBuffer||!r.DataView),l=h,u=0,f=9,m="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");while(u<f)(e=r[m[u++]])?(o(e.prototype,a,!0),o(e.prototype,c,!0)):l=!1;t.exports={ABV:h,CONSTR:l,TYPED:a,VIEW:c}},1169:function(t,n,i){var e=i("2d95");t.exports=Array.isArray||function(t){return"Array"==e(t)}},"11e9":function(t,n,i){var e=i("52a7"),r=i("4630"),o=i("6821"),s=i("6a99"),a=i("69a8"),c=i("c69a"),h=Object.getOwnPropertyDescriptor;n.f=i("9e1e")?h:function(t,n){if(t=o(t),n=s(n,!0),c)try{return h(t,n)}catch(i){}if(a(t,n))return r(!e.f.call(t,n),t[n])}},1717:function(t,n,i){},"2f21":function(t,n,i){"use strict";var e=i("79e5");t.exports=function(t,n){return!!t&&e(function(){n?t.call(null,function(){},1):t.call(null)})}},3121:function(t,n,i){"use strict";var e=i("1717"),r=i.n(e);r.a},"36bd":function(t,n,i){"use strict";var e=i("4bf8"),r=i("77f1"),o=i("9def");t.exports=function(t){var n=e(this),i=o(n.length),s=arguments.length,a=r(s>1?arguments[1]:void 0,i),c=s>2?arguments[2]:void 0,h=void 0===c?i:r(c,i);while(h>a)n[a++]=t;return n}},3846:function(t,n,i){i("9e1e")&&"g"!=/./g.flags&&i("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:i("0bfb")})},"386b":function(t,n,i){var e=i("5ca1"),r=i("79e5"),o=i("be13"),s=/"/g,a=function(t,n,i,e){var r=String(o(t)),a="<"+n;return""!==i&&(a+=" "+i+'="'+String(e).replace(s,"&quot;")+'"'),a+">"+r+"</"+n+">"};t.exports=function(t,n){var i={};i[t]=n(a),e(e.P+e.F*r(function(){var n=""[t]('"');return n!==n.toLowerCase()||n.split('"').length>3}),"String",i)}},"55dd":function(t,n,i){"use strict";var e=i("5ca1"),r=i("d8e8"),o=i("4bf8"),s=i("79e5"),a=[].sort,c=[1,2,3];e(e.P+e.F*(s(function(){c.sort(void 0)})||!s(function(){c.sort(null)})||!i("2f21")(a)),"Array",{sort:function(t){return void 0===t?a.call(o(this)):a.call(o(this),r(t))}})},"63d9":function(t,n,i){i("ec30")("Float32",4,function(t){return function(n,i,e){return t(this,n,i,e)}})},"673e":function(t,n,i){"use strict";i("386b")("sub",function(t){return function(){return t(this,"sub","","")}})},"67b5":function(t,n,i){},"6b54":function(t,n,i){"use strict";i("3846");var e=i("cb7c"),r=i("0bfb"),o=i("9e1e"),s="toString",a=/./[s],c=function(t){i("2aba")(RegExp.prototype,s,t,!0)};i("79e5")(function(){return"/a/b"!=a.call({source:"a",flags:"b"})})?c(function(){var t=e(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?r.call(t):void 0)}):a.name!=s&&c(function(){return a.call(this)})},"6c7b":function(t,n,i){var e=i("5ca1");e(e.P,"Array",{fill:i("36bd")}),i("9c6c")("fill")},"8c36":function(t,n,i){},9093:function(t,n,i){var e=i("ce10"),r=i("e11e").concat("length","prototype");n.f=Object.getOwnPropertyNames||function(t){return e(t,r)}},af56:function(t,n,i){i("ec30")("Uint16",2,function(t){return function(n,i,e){return t(this,n,i,e)}})},ba92:function(t,n,i){"use strict";var e=i("4bf8"),r=i("77f1"),o=i("9def");t.exports=[].copyWithin||function(t,n){var i=e(this),s=o(i.length),a=r(t,s),c=r(n,s),h=arguments.length>2?arguments[2]:void 0,l=Math.min((void 0===h?s:r(h,s))-c,s-a),u=1;c<a&&a<c+l&&(u=-1,c+=l-1,a+=l-1);while(l-- >0)c in i?i[a]=i[c]:delete i[a],a+=u,c+=u;return i}},cd1c:function(t,n,i){var e=i("e853");t.exports=function(t,n){return new(e(t))(n)}},dc3f:function(t,n,i){"use strict";i.r(n);var e=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",{staticClass:"login"},[i("transition",{attrs:{name:"form-fade",mode:"in-out"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.showLogin,expression:"showLogin"}],staticClass:"login-con"},[i("Card",{attrs:{align:"center",icon:"log-in",title:"login"==t.$route.name?"欢迎登录MyStore":"欢迎注册MyStore",bordered:!1}},[i("div",{staticClass:"form-con"},[i("login-form")],1)])],1)]),i("div",{attrs:{id:"loginThree"}})],1)},r=[],o=(i("af56"),i("63d9"),i("6c7b"),i("55dd"),i("673e"),i("6b54"),i("06db"),o||{});o.Color=function(t){this.autoUpdate=!0,this.setHex(t)},o.Color.prototype={setRGBA:function(t,n,i,e){this.r=t,this.g=n,this.b=i,this.a=e,this.autoUpdate&&(this.updateHex(),this.updateStyleString())},setHex:function(t){this.hex=t,this.autoUpdate&&(this.updateRGBA(),this.updateStyleString())},copyRGB:function(t){this.r=t.r,this.g=t.g,this.b=t.b},copyRGBA:function(t){this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a},multiplySelfRGB:function(t){this.r*=t.r,this.g*=t.g,this.b*=t.b},updateHex:function(){this.hex=Math.floor(255*this.a)<<24|Math.floor(255*this.r)<<16|Math.floor(255*this.g)<<8|Math.floor(255*this.b)},updateRGBA:function(){this.a=(this.hex>>24&255)/255,this.r=(this.hex>>16&255)/255,this.g=(this.hex>>8&255)/255,this.b=(255&this.hex)/255},updateStyleString:function(){this.__styleString="rgba("+Math.floor(255*this.r)+","+Math.floor(255*this.g)+","+Math.floor(255*this.b)+","+this.a+")"},toString:function(){return"THREE.Color ( r: "+this.r+", g: "+this.g+", b: "+this.b+", a: "+this.a+", hex: "+this.hex+" )"}},o.Vector2=function(t,n){this.x=t||0,this.y=n||0},o.Vector2.prototype={set:function(t,n){return this.x=t,this.y=n,this},copy:function(t){return this.x=t.x,this.y=t.y,this},addSelf:function(t){return this.x+=t.x,this.y+=t.y,this},add:function(t,n){return this.x=t.x+n.x,this.y=t.y+n.y,this},subSelf:function(t){return this.x-=t.x,this.y-=t.y,this},sub:function(t,n){return this.x=t.x-n.x,this.y=t.y-n.y,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this},unit:function(){return this.multiplyScalar(1/this.length()),this},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},lengthSq:function(){return this.x*this.x+this.y*this.y},negate:function(){return this.x=-this.x,this.y=-this.y,this},clone:function(){return new o.Vector2(this.x,this.y)},toString:function(){return"THREE.Vector2 ("+this.x+", "+this.y+")"}},o.Vector3=function(t,n,i){this.x=t||0,this.y=n||0,this.z=i||0},o.Vector3.prototype={set:function(t,n,i){return this.x=t,this.y=n,this.z=i,this},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},add:function(t,n){return this.x=t.x+n.x,this.y=t.y+n.y,this.z=t.z+n.z,this},addSelf:function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this},sub:function(t,n){return this.x=t.x-n.x,this.y=t.y-n.y,this.z=t.z-n.z,this},subSelf:function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this},cross:function(t,n){return this.x=t.y*n.z-t.z*n.y,this.y=t.z*n.x-t.x*n.z,this.z=t.x*n.y-t.y*n.x,this},crossSelf:function(t){var n=this.x,i=this.y,e=this.z;return this.x=i*t.z-e*t.y,this.y=e*t.x-n*t.z,this.z=n*t.y-i*t.x,this},multiplySelf:function(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this},divideScalar:function(t){return this.x/=t,this.y/=t,this.z/=t,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var n=this.x-t.x,i=this.y-t.y,e=this.z-t.z;return n*n+i*i+e*e},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},normalize:function(){return this.length()>0?this.multiplyScalar(1/this.length()):this.multiplyScalar(0),this},setLength:function(t){return this.normalize().multiplyScalar(t)},isZero:function(){var t=1e-4;return Math.abs(this.x)<t&&Math.abs(this.y)<t&&Math.abs(this.z)<t},clone:function(){return new o.Vector3(this.x,this.y,this.z)},toString:function(){return"THREE.Vector3 ( "+this.x+", "+this.y+", "+this.z+" )"}},o.Vector4=function(t,n,i,e){this.x=t||0,this.y=n||0,this.z=i||0,this.w=e||1},o.Vector4.prototype={set:function(t,n,i,e){return this.x=t,this.y=n,this.z=i,this.w=e,this},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w,this},add:function(t,n){return this.x=t.x+n.x,this.y=t.y+n.y,this.z=t.z+n.z,this.w=t.w+n.w,this},addSelf:function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this},sub:function(t,n){return this.x=t.x-n.x,this.y=t.y-n.y,this.z=t.z-n.z,this.w=t.w-n.w,this},subSelf:function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this},clone:function(){return new o.Vector4(this.x,this.y,this.z,this.w)},toString:function(){return"THREE.Vector4 ("+this.x+", "+this.y+", "+this.z+", "+this.w+")"}},o.Rectangle=function(){var t,n,i,e,r,o,s=!0;function a(){r=i-t,o=e-n}this.getX=function(){return t},this.getY=function(){return n},this.getWidth=function(){return r},this.getHeight=function(){return o},this.getX1=function(){return t},this.getY1=function(){return n},this.getX2=function(){return i},this.getY2=function(){return e},this.set=function(r,o,c,h){s=!1,t=r,n=o,i=c,e=h,a()},this.addPoint=function(r,o){s?(s=!1,t=r,n=o,i=r,e=o):(t=Math.min(t,r),n=Math.min(n,o),i=Math.max(i,r),e=Math.max(e,o)),a()},this.addRectangle=function(r){s?(s=!1,t=r.getX1(),n=r.getY1(),i=r.getX2(),e=r.getY2()):(t=Math.min(t,r.getX1()),n=Math.min(n,r.getY1()),i=Math.max(i,r.getX2()),e=Math.max(e,r.getY2())),a()},this.inflate=function(r){t-=r,n-=r,i+=r,e+=r,a()},this.minSelf=function(r){t=Math.max(t,r.getX1()),n=Math.max(n,r.getY1()),i=Math.min(i,r.getX2()),e=Math.min(e,r.getY2()),a()},this.instersects=function(r){return Math.min(i,r.getX2())-Math.max(t,r.getX1())>=0&&Math.min(e,r.getY2())-Math.max(n,r.getY1())>=0},this.empty=function(){s=!0,t=0,n=0,i=0,e=0,a()},this.isEmpty=function(){return s},this.toString=function(){return"THREE.Rectangle (x1: "+t+", y1: "+e+", x2: "+i+", y1: "+n+", width: "+r+", height: "+o+")"}},o.Matrix3=function(){this.m=[]},o.Matrix3.prototype={transpose:function(){var t;return t=this.m[1],this.m[1]=this.m[3],this.m[3]=t,t=this.m[2],this.m[2]=this.m[6],this.m[6]=t,t=this.m[5],this.m[5]=this.m[7],this.m[7]=t,this}},o.Matrix4=function(){this._x=new o.Vector3,this._y=new o.Vector3,this._z=new o.Vector3},o.Matrix4.prototype={n11:1,n12:0,n13:0,n14:0,n21:0,n22:1,n23:0,n24:0,n31:0,n32:0,n33:1,n34:0,n41:0,n42:0,n43:0,n44:1,identity:function(){this.n11=1,this.n12=0,this.n13=0,this.n14=0,this.n21=0,this.n22=1,this.n23=0,this.n24=0,this.n31=0,this.n32=0,this.n33=1,this.n34=0,this.n41=0,this.n42=0,this.n43=0,this.n44=1},copy:function(t){this.n11=t.n11,this.n12=t.n12,this.n13=t.n13,this.n14=t.n14,this.n21=t.n21,this.n22=t.n22,this.n23=t.n23,this.n24=t.n24,this.n31=t.n31,this.n32=t.n32,this.n33=t.n33,this.n34=t.n34,this.n41=t.n41,this.n42=t.n42,this.n43=t.n43,this.n44=t.n44},lookAt:function(t,n,i){var e=this._x,r=this._y,o=this._z;o.sub(t,n),o.normalize(),e.cross(i,o),e.normalize(),r.cross(o,e),r.normalize(),this.n11=e.x,this.n12=e.y,this.n13=e.z,this.n14=-e.dot(t),this.n21=r.x,this.n22=r.y,this.n23=r.z,this.n24=-r.dot(t),this.n31=o.x,this.n32=o.y,this.n33=o.z,this.n34=-o.dot(t),this.n41=0,this.n42=0,this.n43=0,this.n44=1},transform:function(t){var n=t.x,i=t.y,e=t.z,r=t.w?t.w:1;return t.x=this.n11*n+this.n12*i+this.n13*e+this.n14*r,t.y=this.n21*n+this.n22*i+this.n23*e+this.n24*r,t.z=this.n31*n+this.n32*i+this.n33*e+this.n34*r,r=this.n41*n+this.n42*i+this.n43*e+this.n44*r,t.w?t.w=r:(t.x=t.x/r,t.y=t.y/r,t.z=t.z/r),t},crossVector:function(t){var n=new o.Vector4;return n.x=this.n11*t.x+this.n12*t.y+this.n13*t.z+this.n14*t.w,n.y=this.n21*t.x+this.n22*t.y+this.n23*t.z+this.n24*t.w,n.z=this.n31*t.x+this.n32*t.y+this.n33*t.z+this.n34*t.w,n.w=t.w?this.n41*t.x+this.n42*t.y+this.n43*t.z+this.n44*t.w:1,n},multiply:function(t,n){this.n11=t.n11*n.n11+t.n12*n.n21+t.n13*n.n31+t.n14*n.n41,this.n12=t.n11*n.n12+t.n12*n.n22+t.n13*n.n32+t.n14*n.n42,this.n13=t.n11*n.n13+t.n12*n.n23+t.n13*n.n33+t.n14*n.n43,this.n14=t.n11*n.n14+t.n12*n.n24+t.n13*n.n34+t.n14*n.n44,this.n21=t.n21*n.n11+t.n22*n.n21+t.n23*n.n31+t.n24*n.n41,this.n22=t.n21*n.n12+t.n22*n.n22+t.n23*n.n32+t.n24*n.n42,this.n23=t.n21*n.n13+t.n22*n.n23+t.n23*n.n33+t.n24*n.n43,this.n24=t.n21*n.n14+t.n22*n.n24+t.n23*n.n34+t.n24*n.n44,this.n31=t.n31*n.n11+t.n32*n.n21+t.n33*n.n31+t.n34*n.n41,this.n32=t.n31*n.n12+t.n32*n.n22+t.n33*n.n32+t.n34*n.n42,this.n33=t.n31*n.n13+t.n32*n.n23+t.n33*n.n33+t.n34*n.n43,this.n34=t.n31*n.n14+t.n32*n.n24+t.n33*n.n34+t.n34*n.n44,this.n41=t.n41*n.n11+t.n42*n.n21+t.n43*n.n31+t.n44*n.n41,this.n42=t.n41*n.n12+t.n42*n.n22+t.n43*n.n32+t.n44*n.n42,this.n43=t.n41*n.n13+t.n42*n.n23+t.n43*n.n33+t.n44*n.n43,this.n44=t.n41*n.n14+t.n42*n.n24+t.n43*n.n34+t.n44*n.n44},multiplySelf:function(t){var n=this.n11,i=this.n12,e=this.n13,r=this.n14,o=this.n21,s=this.n22,a=this.n23,c=this.n24,h=this.n31,l=this.n32,u=this.n33,f=this.n34,m=this.n41,p=this.n42,g=this.n43,d=this.n44;this.n11=n*t.n11+i*t.n21+e*t.n31+r*t.n41,this.n12=n*t.n12+i*t.n22+e*t.n32+r*t.n42,this.n13=n*t.n13+i*t.n23+e*t.n33+r*t.n43,this.n14=n*t.n14+i*t.n24+e*t.n34+r*t.n44,this.n21=o*t.n11+s*t.n21+a*t.n31+c*t.n41,this.n22=o*t.n12+s*t.n22+a*t.n32+c*t.n42,this.n23=o*t.n13+s*t.n23+a*t.n33+c*t.n43,this.n24=o*t.n14+s*t.n24+a*t.n34+c*t.n44,this.n31=h*t.n11+l*t.n21+u*t.n31+f*t.n41,this.n32=h*t.n12+l*t.n22+u*t.n32+f*t.n42,this.n33=h*t.n13+l*t.n23+u*t.n33+f*t.n43,this.n34=h*t.n14+l*t.n24+u*t.n34+f*t.n44,this.n41=m*t.n11+p*t.n21+g*t.n31+d*t.n41,this.n42=m*t.n12+p*t.n22+g*t.n32+d*t.n42,this.n43=m*t.n13+p*t.n23+g*t.n33+d*t.n43,this.n44=m*t.n14+p*t.n24+g*t.n34+d*t.n44},multiplyScalar:function(t){this.n11*=t,this.n12*=t,this.n13*=t,this.n14*=t,this.n21*=t,this.n22*=t,this.n23*=t,this.n24*=t,this.n31*=t,this.n32*=t,this.n33*=t,this.n34*=t,this.n41*=t,this.n42*=t,this.n43*=t,this.n44*=t},determinant:function(){return this.n14*this.n23*this.n32*this.n41-this.n13*this.n24*this.n32*this.n41-this.n14*this.n22*this.n33*this.n41+this.n12*this.n24*this.n33*this.n41+this.n13*this.n22*this.n34*this.n41-this.n12*this.n23*this.n34*this.n41-this.n14*this.n23*this.n31*this.n42+this.n13*this.n24*this.n31*this.n42+this.n14*this.n21*this.n33*this.n42-this.n11*this.n24*this.n33*this.n42-this.n13*this.n21*this.n34*this.n42+this.n11*this.n23*this.n34*this.n42+this.n14*this.n22*this.n31*this.n43-this.n12*this.n24*this.n31*this.n43-this.n14*this.n21*this.n32*this.n43+this.n11*this.n24*this.n32*this.n43+this.n12*this.n21*this.n34*this.n43-this.n11*this.n22*this.n34*this.n43-this.n13*this.n22*this.n31*this.n44+this.n12*this.n23*this.n31*this.n44+this.n13*this.n21*this.n32*this.n44-this.n11*this.n23*this.n32*this.n44-this.n12*this.n21*this.n33*this.n44+this.n11*this.n22*this.n33*this.n44},transpose:function(){function t(t,n,i){var e=t[n];t[n]=t[i],t[i]=e}return t(this,"n21","n12"),t(this,"n31","n13"),t(this,"n32","n23"),t(this,"n41","n14"),t(this,"n42","n24"),t(this,"n43","n34"),this},clone:function(){var t=new o.Matrix4;return t.n11=this.n11,t.n12=this.n12,t.n13=this.n13,t.n14=this.n14,t.n21=this.n21,t.n22=this.n22,t.n23=this.n23,t.n24=this.n24,t.n31=this.n31,t.n32=this.n32,t.n33=this.n33,t.n34=this.n34,t.n41=this.n41,t.n42=this.n42,t.n43=this.n43,t.n44=this.n44,t},flatten:function(){return[this.n11,this.n21,this.n31,this.n41,this.n12,this.n22,this.n32,this.n42,this.n13,this.n23,this.n33,this.n43,this.n14,this.n24,this.n34,this.n44]},toString:function(){return"| "+this.n11+" "+this.n12+" "+this.n13+" "+this.n14+" |\n| "+this.n21+" "+this.n22+" "+this.n23+" "+this.n24+" |\n| "+this.n31+" "+this.n32+" "+this.n33+" "+this.n34+" |\n| "+this.n41+" "+this.n42+" "+this.n43+" "+this.n44+" |"}},o.Matrix4.translationMatrix=function(t,n,i){var e=new o.Matrix4;return e.n14=t,e.n24=n,e.n34=i,e},o.Matrix4.scaleMatrix=function(t,n,i){var e=new o.Matrix4;return e.n11=t,e.n22=n,e.n33=i,e},o.Matrix4.rotationXMatrix=function(t){var n=new o.Matrix4;return n.n22=n.n33=Math.cos(t),n.n32=Math.sin(t),n.n23=-n.n32,n},o.Matrix4.rotationYMatrix=function(t){var n=new o.Matrix4;return n.n11=n.n33=Math.cos(t),n.n13=Math.sin(t),n.n31=-n.n13,n},o.Matrix4.rotationZMatrix=function(t){var n=new o.Matrix4;return n.n11=n.n22=Math.cos(t),n.n21=Math.sin(t),n.n12=-n.n21,n},o.Matrix4.rotationAxisAngleMatrix=function(t,n){var i=new o.Matrix4,e=Math.cos(n),r=Math.sin(n),s=1-e,a=t.x,c=t.y,h=t.z;return i.n11=s*a*a+e,i.n12=s*a*c-r*h,i.n13=s*a*h+r*c,i.n21=s*a*c+r*h,i.n22=s*c*c+e,i.n23=s*c*h-r*a,i.n31=s*a*h-r*c,i.n32=s*c*h+r*a,i.n33=s*h*h+e,i},o.Matrix4.makeInvert=function(t){var n=new o.Matrix4;return n.n11=t.n23*t.n34*t.n42-t.n24*t.n33*t.n42+t.n24*t.n32*t.n43-t.n22*t.n34*t.n43-t.n23*t.n32*t.n44+t.n22*t.n33*t.n44,n.n12=t.n14*t.n33*t.n42-t.n13*t.n34*t.n42-t.n14*t.n32*t.n43+t.n12*t.n34*t.n43+t.n13*t.n32*t.n44-t.n12*t.n33*t.n44,n.n13=t.n13*t.n24*t.n42-t.n14*t.n23*t.n42+t.n14*t.n22*t.n43-t.n12*t.n24*t.n43-t.n13*t.n22*t.n44+t.n12*t.n23*t.n44,n.n14=t.n14*t.n23*t.n32-t.n13*t.n24*t.n32-t.n14*t.n22*t.n33+t.n12*t.n24*t.n33+t.n13*t.n22*t.n34-t.n12*t.n23*t.n34,n.n21=t.n24*t.n33*t.n41-t.n23*t.n34*t.n41-t.n24*t.n31*t.n43+t.n21*t.n34*t.n43+t.n23*t.n31*t.n44-t.n21*t.n33*t.n44,n.n22=t.n13*t.n34*t.n41-t.n14*t.n33*t.n41+t.n14*t.n31*t.n43-t.n11*t.n34*t.n43-t.n13*t.n31*t.n44+t.n11*t.n33*t.n44,n.n23=t.n14*t.n23*t.n41-t.n13*t.n24*t.n41-t.n14*t.n21*t.n43+t.n11*t.n24*t.n43+t.n13*t.n21*t.n44-t.n11*t.n23*t.n44,n.n24=t.n13*t.n24*t.n31-t.n14*t.n23*t.n31+t.n14*t.n21*t.n33-t.n11*t.n24*t.n33-t.n13*t.n21*t.n34+t.n11*t.n23*t.n34,n.n31=t.n22*t.n34*t.n41-t.n24*t.n32*t.n41+t.n24*t.n31*t.n42-t.n21*t.n34*t.n42-t.n22*t.n31*t.n44+t.n21*t.n32*t.n44,n.n32=t.n14*t.n32*t.n41-t.n12*t.n34*t.n41-t.n14*t.n31*t.n42+t.n11*t.n34*t.n42+t.n12*t.n31*t.n44-t.n11*t.n32*t.n44,n.n33=t.n13*t.n24*t.n41-t.n14*t.n22*t.n41+t.n14*t.n21*t.n42-t.n11*t.n24*t.n42-t.n12*t.n21*t.n44+t.n11*t.n22*t.n44,n.n34=t.n14*t.n22*t.n31-t.n12*t.n24*t.n31-t.n14*t.n21*t.n32+t.n11*t.n24*t.n32+t.n12*t.n21*t.n34-t.n11*t.n22*t.n34,n.n41=t.n23*t.n32*t.n41-t.n22*t.n33*t.n41-t.n23*t.n31*t.n42+t.n21*t.n33*t.n42+t.n22*t.n31*t.n43-t.n21*t.n32*t.n43,n.n42=t.n12*t.n33*t.n41-t.n13*t.n32*t.n41+t.n13*t.n31*t.n42-t.n11*t.n33*t.n42-t.n12*t.n31*t.n43+t.n11*t.n32*t.n43,n.n43=t.n13*t.n22*t.n41-t.n12*t.n23*t.n41-t.n13*t.n21*t.n42+t.n11*t.n23*t.n42+t.n12*t.n21*t.n43-t.n11*t.n22*t.n43,n.n44=t.n12*t.n23*t.n31-t.n13*t.n22*t.n31+t.n13*t.n21*t.n32-t.n11*t.n23*t.n32-t.n12*t.n21*t.n33+t.n11*t.n22*t.n33,n.multiplyScalar(1/t.determinant()),n},o.Matrix4.makeInvert3x3=function(t){var n,i=t.flatten(),e=new o.Matrix3,r=i[10]*i[5]-i[6]*i[9],s=-i[10]*i[1]+i[2]*i[9],a=i[6]*i[1]-i[2]*i[5],c=-i[10]*i[4]+i[6]*i[8],h=i[10]*i[0]-i[2]*i[8],l=-i[6]*i[0]+i[2]*i[4],u=i[9]*i[4]-i[5]*i[8],f=-i[9]*i[0]+i[1]*i[8],m=i[5]*i[0]-i[1]*i[4],p=i[0]*r+i[1]*c+i[2]*u;if(0==p)throw"matrix not invertible";return n=1/p,e.m[0]=n*r,e.m[1]=n*s,e.m[2]=n*a,e.m[3]=n*c,e.m[4]=n*h,e.m[5]=n*l,e.m[6]=n*u,e.m[7]=n*f,e.m[8]=n*m,e},o.Matrix4.makeFrustum=function(t,n,i,e,r,s){var a,c,h,l,u,f,m;return a=new o.Matrix4,c=2*r/(n-t),h=2*r/(e-i),l=(n+t)/(n-t),u=(e+i)/(e-i),f=-(s+r)/(s-r),m=-2*s*r/(s-r),a.n11=c,a.n12=0,a.n13=l,a.n14=0,a.n21=0,a.n22=h,a.n23=u,a.n24=0,a.n31=0,a.n32=0,a.n33=f,a.n34=m,a.n41=0,a.n42=0,a.n43=-1,a.n44=0,a},o.Matrix4.makePerspective=function(t,n,i,e){var r,s,a,c;return r=i*Math.tan(t*Math.PI/360),s=-r,a=s*n,c=r*n,o.Matrix4.makeFrustum(a,c,s,r,i,e)},o.Matrix4.makeOrtho=function(t,n,i,e,r,s){var a,c,h,l,u,f,m;return a=new o.Matrix4,u=n-t,f=e-i,m=s-r,c=(n+t)/u,h=(e+i)/f,l=(s+r)/m,a.n11=2/u,a.n12=0,a.n13=0,a.n14=-c,a.n21=0,a.n22=2/f,a.n23=0,a.n24=-h,a.n31=0,a.n32=0,a.n33=-2/m,a.n34=-l,a.n41=0,a.n42=0,a.n43=0,a.n44=1,a},o.Vertex=function(t,n){this.position=t||new o.Vector3,this.positionWorld=new o.Vector3,this.positionScreen=new o.Vector3,this.normal=n||new o.Vector3,this.normalWorld=new o.Vector3,this.normalScreen=new o.Vector3,this.__visible=!0},o.Vertex.prototype={toString:function(){return"THREE.Vertex ( position: "+this.position+", normal: "+this.normal+" )"}},o.Face3=function(t,n,i,e,r){this.a=t,this.b=n,this.c=i,this.centroid=new o.Vector3,this.normal=e instanceof o.Vector3?e:new o.Vector3,this.vertexNormals=e instanceof Array?e:[],this.material=r instanceof Array?r:[r]},o.Face3.prototype={toString:function(){return"THREE.Face3 ( "+this.a+", "+this.b+", "+this.c+" )"}},o.Face4=function(t,n,i,e,r,s){this.a=t,this.b=n,this.c=i,this.d=e,this.centroid=new o.Vector3,this.normal=r instanceof o.Vector3?r:new o.Vector3,this.vertexNormals=r instanceof Array?r:[],this.material=s instanceof Array?s:[s]},o.Face4.prototype={toString:function(){return"THREE.Face4 ( "+this.a+", "+this.b+", "+this.c+" "+this.d+" )"}},o.UV=function(t,n){this.u=t||0,this.v=n||0},o.UV.prototype={copy:function(t){this.u=t.u,this.v=t.v},toString:function(){return"THREE.UV ("+this.u+", "+this.v+")"}},o.Geometry=function(){this.vertices=[],this.faces=[],this.uvs=[]},o.Geometry.prototype={computeCentroids:function(){var t,n,i;for(t=0,n=this.faces.length;t<n;t++)i=this.faces[t],i.centroid.set(0,0,0),i instanceof o.Face3?(i.centroid.addSelf(this.vertices[i.a].position),i.centroid.addSelf(this.vertices[i.b].position),i.centroid.addSelf(this.vertices[i.c].position),i.centroid.divideScalar(3)):i instanceof o.Face4&&(i.centroid.addSelf(this.vertices[i.a].position),i.centroid.addSelf(this.vertices[i.b].position),i.centroid.addSelf(this.vertices[i.c].position),i.centroid.addSelf(this.vertices[i.d].position),i.centroid.divideScalar(4))},computeNormals:function(t){var n,i,e,r,s,a,c,h,l,u,f,m=new o.Vector3,p=new o.Vector3;for(e=0,r=this.vertices.length;e<r;e++)s=this.vertices[e],s.normal.set(0,0,0);for(a=0,c=this.faces.length;a<c;a++)if(h=this.faces[a],t&&h.vertexNormals.length){for(m.set(0,0,0),n=0,i=h.normal.length;n<i;n++)m.addSelf(h.vertexNormals[n]);m.divideScalar(3),m.isZero()||m.normalize(),h.normal.copy(m)}else l=this.vertices[h.a],u=this.vertices[h.b],f=this.vertices[h.c],m.sub(f.position,u.position),p.sub(l.position,u.position),m.crossSelf(p),m.isZero()||m.normalize(),h.normal.copy(m)},computeBoundingBox:function(){if(this.vertices.length>0){this.bbox={x:[this.vertices[0].position.x,this.vertices[0].position.x],y:[this.vertices[0].position.y,this.vertices[0].position.y],z:[this.vertices[0].position.z,this.vertices[0].position.z]};for(var t=1,n=this.vertices.length;t<n;t++)vertex=this.vertices[t],vertex.position.x<this.bbox.x[0]?this.bbox.x[0]=vertex.position.x:vertex.position.x>this.bbox.x[1]&&(this.bbox.x[1]=vertex.position.x),vertex.position.y<this.bbox.y[0]?this.bbox.y[0]=vertex.position.y:vertex.position.y>this.bbox.y[1]&&(this.bbox.y[1]=vertex.position.y),vertex.position.z<this.bbox.z[0]?this.bbox.z[0]=vertex.position.z:vertex.position.z>this.bbox.z[1]&&(this.bbox.z[1]=vertex.position.z)}},toString:function(){return"THREE.Geometry ( vertices: "+this.vertices+", faces: "+this.faces+" )"}},o.Camera=function(t,n,i,e){this.fov=t,this.aspect=n,this.position=new o.Vector3(0,0,0),this.target={position:new o.Vector3(0,0,0)},this.projectionMatrix=o.Matrix4.makePerspective(t,n,i,e),this.up=new o.Vector3(0,1,0),this.matrix=new o.Matrix4,this.autoUpdateMatrix=!0,this.updateMatrix=function(){this.matrix.lookAt(this.position,this.target.position,this.up)},this.toString=function(){return"THREE.Camera ( "+this.position+", "+this.target.position+" )"}},o.Light=function(t){this.color=new o.Color(255<<24|t)},o.AmbientLight=function(t){o.Light.call(this,t)},o.AmbientLight.prototype=new o.Light,o.AmbientLight.prototype.constructor=o.AmbientLight,o.DirectionalLight=function(t,n){o.Light.call(this,t),this.position=new o.Vector3(0,1,0),this.intensity=n||1},o.DirectionalLight.prototype=new o.Light,o.DirectionalLight.prototype.constructor=o.DirectionalLight,o.PointLight=function(t,n){o.Light.call(this,t),this.position=new o.Vector3(0,0,0),this.intensity=n||1},o.DirectionalLight.prototype=new o.Light,o.DirectionalLight.prototype.constructor=o.PointLight,o.Object3D=function(t){this.position=new o.Vector3,this.rotation=new o.Vector3,this.scale=new o.Vector3(1,1,1),this.matrix=new o.Matrix4,this.matrixTranslation=new o.Matrix4,this.matrixRotation=new o.Matrix4,this.matrixScale=new o.Matrix4,this.screen=new o.Vector3,this.autoUpdateMatrix=!0,this.updateMatrix=function(){this.matrixPosition=o.Matrix4.translationMatrix(this.position.x,this.position.y,this.position.z),this.matrixRotation=o.Matrix4.rotationXMatrix(this.rotation.x),this.matrixRotation.multiplySelf(o.Matrix4.rotationYMatrix(this.rotation.y)),this.matrixRotation.multiplySelf(o.Matrix4.rotationZMatrix(this.rotation.z)),this.matrixScale=o.Matrix4.scaleMatrix(this.scale.x,this.scale.y,this.scale.z),this.matrix.copy(this.matrixPosition),this.matrix.multiplySelf(this.matrixRotation),this.matrix.multiplySelf(this.matrixScale)}},o.Particle=function(t){o.Object3D.call(this),this.material=t instanceof Array?t:[t],this.autoUpdateMatrix=!1},o.Particle.prototype=new o.Object3D,o.Particle.prototype.constructor=o.Particle,o.Line=function(t,n){o.Object3D.call(this),this.geometry=t,this.material=n instanceof Array?n:[n]},o.Line.prototype=new o.Object3D,o.Line.prototype.constructor=o.Line,o.Mesh=function(t,n,i){o.Object3D.call(this),this.geometry=t,this.material=n instanceof Array?n:[n],this.flipSided=!1,this.doubleSided=!1,this.overdraw=!1,this.materialFaceGroup={},this.sortFacesByMaterial(),i&&this.normalizeUVs(),this.geometry.computeBoundingBox()},o.Mesh.prototype=new o.Object3D,o.Mesh.prototype.constructor=o.Mesh,o.Mesh.prototype.sortFacesByMaterial=function(){var t,n,i,e,r,o,s;function a(i){for(s=[],t=0,n=i.length;t<n;t++)void 0==i[t]?s.push("undefined"):s.push(i[t].toString());return s.join("_")}for(i=0,e=this.geometry.faces.length;i<e;i++)r=this.geometry.faces[i],o=r.material,hash=a(o),void 0==this.materialFaceGroup[hash]&&(this.materialFaceGroup[hash]={faces:[],material:o}),this.materialFaceGroup[hash].faces.push(i)},o.Mesh.prototype.normalizeUVs=function(){var t,n,i,e,r;for(t=0,n=this.geometry.uvs.length;t<n;t++)for(r=this.geometry.uvs[t],i=0,e=r.length;i<e;i++)1!=r[i].u&&(r[i].u=r[i].u-Math.floor(r[i].u)),1!=r[i].v&&(r[i].v=r[i].v-Math.floor(r[i].v))},o.LineColorMaterial=function(t,n,i){this.lineWidth=i||1,this.color=new o.Color((n>=0?255*n<<24:4278190080)|t)},o.LineColorMaterial.prototype={toString:function(){return"THREE.LineColorMaterial ( color: "+this.color+", lineWidth: "+this.lineWidth+" )"}},o.MeshPhongMaterial=function(t,n,i,e,r){this.ambient=new o.Color((r>=0?255*r<<24:4278190080)|t),this.diffuse=new o.Color((r>=0?255*r<<24:4278190080)|n),this.specular=new o.Color((r>=0?255*r<<24:4278190080)|i),this.shininess=e,this.opacity=r,this.toString=function(){return"THREE.MeshPhongMaterial ( <br/>ambient: "+this.ambient+", <br/>diffuse: "+this.diffuse+", <br/>specular: "+this.specular+", <br/>shininess: "+this.shininess+", <br/>opacity: "+this.opacity+")"}},o.MeshBitmapMaterial=function(t,n){this.bitmap=t,this.mode=n||o.MeshBitmapMaterialMode.UVMAPPING,this.id=o.MeshBitmapMaterialCounter.value++,this.toString=function(){return"THREE.MeshBitmapMaterial ( bitmap: "+this.bitmap+", mode: "+this.mode+", id: "+this.id+" )"}},o.MeshBitmapMaterialCounter={value:0},o.MeshBitmapMaterialMode={UVMAPPING:0},o.MeshColorFillMaterial=function(t,n){this.color=new o.Color((n>=0?255*n<<24:4278190080)|t),this.toString=function(){return"THREE.MeshColorFillMaterial ( color: "+this.color+" )"}},o.MeshColorStrokeMaterial=function(t,n,i){this.lineWidth=i||1,this.color=new o.Color((n>=0?255*n<<24:4278190080)|t),this.toString=function(){return"THREE.MeshColorStrokeMaterial ( lineWidth: "+this.lineWidth+", color: "+this.color+" )"}},o.MeshFaceMaterial=function(){this.toString=function(){return"THREE.MeshFaceMaterial"}},o.ParticleBitmapMaterial=function(t){this.bitmap=t,this.offset=new o.Vector2,this.toString=function(){return"THREE.ParticleBitmapMaterial ( bitmap: "+this.bitmap+" )"}},o.ParticleCircleMaterial=function(t,n){this.color=new o.Color((n>=0?255*n<<24:4278190080)|t),this.toString=function(){return"THREE.ParticleCircleMaterial ( color: "+this.color+" )"}},o.ParticleDOMMaterial=function(t){this.domElement=t,this.toString=function(){return"THREE.ParticleDOMMaterial ( domElement: "+this.domElement+" )"}},o.Scene=function(){this.objects=[],this.lights=[],this.addObject=function(t){this.objects.push(t)},this.removeObject=function(t){for(var n=0,i=this.objects.length;n<i;n++)if(t==this.objects[n])return void this.objects.splice(n,1)},this.addLight=function(t){this.lights.push(t)},this.removeLight=function(t){for(var n=0,i=this.lights.length;n<i;n++)if(t==this.lights[n])return void this.lights.splice(n,1)},this.add=function(t){this.addObject(t)},this.toString=function(){return"THREE.Scene ( "+this.objects+" )"}},o.Projector=function(){var t,n,i,e,r,s,a,c,h=null,l=[],u=[],f=[],m=[],p=new o.Vector4,g=new o.Matrix4,d=new o.Matrix4;this.projectScene=function(v,y){var x,b,w,M,S,_,R,A,L,z,E,P,C,T,B,F,V,D,U;for(h=[],n=0,e=0,s=0,c=0,y.autoUpdateMatrix&&y.updateMatrix(),g.multiply(y.projectionMatrix,y.matrix),R=v.objects,x=0,b=R.length;x<b;x++)if(A=R[x],L=A.matrix,A.autoUpdateMatrix&&A.updateMatrix(),A instanceof o.Mesh){for(d.multiply(g,L),z=A.geometry.vertices,w=0,M=z.length;w<M;w++)E=z[w],P=E.positionScreen,P.copy(E.position),d.transform(P),E.__visible=P.z>0&&P.z<1;for(T=A.geometry.faces,S=0,_=T.length;S<_;S++)B=T[S],B instanceof o.Face3?(F=z[B.a],V=z[B.b],D=z[B.c],F.__visible&&V.__visible&&D.__visible&&(A.doubleSided||A.flipSided!=(D.positionScreen.x-F.positionScreen.x)*(V.positionScreen.y-F.positionScreen.y)-(D.positionScreen.y-F.positionScreen.y)*(V.positionScreen.x-F.positionScreen.x)<0)&&(t=l[n]=l[n]||new o.RenderableFace3,t.v1.copy(F.positionScreen),t.v2.copy(V.positionScreen),t.v3.copy(D.positionScreen),t.centroidWorld.copy(B.centroid),A.matrix.transform(t.centroidWorld),t.normalWorld.copy(B.normal),A.matrixRotation.transform(t.normalWorld),t.z=Math.max(F.positionScreen.z,Math.max(V.positionScreen.z,D.positionScreen.z)),t.meshMaterial=A.material,t.faceMaterial=B.material,t.overdraw=A.overdraw,t.uvs=A.geometry.uvs[S],t.color=B.color,h.push(t),n++)):B instanceof o.Face4&&(F=z[B.a],V=z[B.b],D=z[B.c],U=z[B.d],F.__visible&&V.__visible&&D.__visible&&U.__visible&&(A.doubleSided||A.flipSided!=((U.positionScreen.x-F.positionScreen.x)*(V.positionScreen.y-F.positionScreen.y)-(U.positionScreen.y-F.positionScreen.y)*(V.positionScreen.x-F.positionScreen.x)<0||(V.positionScreen.x-D.positionScreen.x)*(U.positionScreen.y-D.positionScreen.y)-(V.positionScreen.y-D.positionScreen.y)*(U.positionScreen.x-D.positionScreen.x)<0))&&(i=u[e]=u[e]||new o.RenderableFace4,i.v1.copy(F.positionScreen),i.v2.copy(V.positionScreen),i.v3.copy(D.positionScreen),i.v4.copy(U.positionScreen),i.centroidWorld.copy(B.centroid),A.matrix.transform(i.centroidWorld),i.normalWorld.copy(B.normal),A.matrixRotation.transform(i.normalWorld),i.z=Math.max(F.positionScreen.z,Math.max(V.positionScreen.z,Math.max(D.positionScreen.z,U.positionScreen.z))),i.meshMaterial=A.material,i.faceMaterial=B.material,i.overdraw=A.overdraw,i.uvs=A.geometry.uvs[S],i.color=B.color,h.push(i),e++))}else if(A instanceof o.Line)for(d.multiply(g,L),z=A.geometry.vertices,w=0,M=z.length;w<M;w++)E=z[w],P=E.positionScreen,P.copy(E.position),d.transform(P),E.__visible=P.z>0&&P.z<1,w>0&&(C=A.geometry.vertices[w-1],E.__visible&&C.__visible&&(r=f[s]=f[s]||new o.RenderableLine,r.v1.copy(E.positionScreen),r.v2.copy(C.positionScreen),r.z=Math.max(E.positionScreen.z,C.positionScreen.z),r.material=A.material,h.push(r),s++));else A instanceof o.Particle&&(p.set(A.position.x,A.position.y,A.position.z,1),y.matrix.transform(p),y.projectionMatrix.transform(p),A.screen.set(p.x/p.w,p.y/p.w,p.z/p.w),A.screen.z>0&&A.screen.z<1&&(a=m[c]=m[c]||new o.RenderableParticle,a.x=A.screen.x,a.y=A.screen.y,a.z=A.screen.z,a.rotation=A.rotation.z,a.scale.x=A.scale.x*Math.abs(p.x/p.w-(p.x+y.projectionMatrix.n11)/(p.w+y.projectionMatrix.n14)),a.scale.y=A.scale.y*Math.abs(p.y/p.w-(p.y+y.projectionMatrix.n22)/(p.w+y.projectionMatrix.n24)),a.material=A.material,a.color=A.color,h.push(a),c++));return h.sort(function(t,n){return n.z-t.z}),h}},o.DOMRenderer=function(){o.Renderer.call(this);var t,n,i,e,r=null,s=new o.Projector,a=document.createElement("div");this.domElement=a,this.setSize=function(r,o){t=r,n=o,i=t/2,e=n/2},this.render=function(t,n){var a,c,h,l,u,f,m,p,g;for(r=s.projectScene(t,n),a=0,c=r.length;a<c;a++)if(u=r[a],u instanceof o.RenderableParticle)for(p=u.x*i+i,g=u.y*e+e,h=0,l=u.material.length;h<l;h++)f=u.material[h],f instanceof o.ParticleDOMMaterial&&(m=f.domElement,m.style.left=p+"px",m.style.top=g+"px")}},o.CanvasRenderer=function(){var t,n,i,e,r=null,s=new o.Projector,a=document.createElement("canvas"),c=a.getContext("2d"),h=new o.Rectangle,l=new o.Rectangle,u=new o.Rectangle,f=!1,m=new o.Color(4294967295),p=new o.Color(4294967295),g=new o.Color(4294967295),d=2*Math.PI,v=new o.Vector2,y=new o.Vector3,x=new o.UV,b=new o.UV,w=new o.UV,M=new o.UV,S=new o.Vector2,_=new o.Vector2;function R(t,n){var i,e,r;for(n.setRGBA(1,1,1,1),i=0,e=t.lights.length;i<e;i++)r=t.lights[i],r instanceof o.AmbientLight&&(n.r*=r.color.r,n.g*=r.color.g,n.b*=r.color.b)}function A(t,n,i){var e,r,s;for(e=0,r=t.lights.length;e<r;e++)s=t.lights[e],s instanceof o.DirectionalLight?(i.r+=s.color.r,i.g+=s.color.g,i.b+=s.color.b):s instanceof o.PointLight&&(i.r+=s.color.r,i.g+=s.color.g,i.b+=s.color.b)}function L(t,n,i){var e,r,s,a;for(e=0,r=t.lights.length;e<r;e++)s=t.lights[e],s instanceof o.DirectionalLight?(a=n.normalWorld.dot(s.position)*s.intensity,a>0&&(i.r+=s.color.r*a,i.g+=s.color.g*a,i.b+=s.color.b*a)):s instanceof o.PointLight&&(y.sub(s.position,n.centroidWorld),y.normalize(),a=n.normalWorld.dot(y)*s.intensity,a>0&&(i.r+=s.color.r*a,i.g+=s.color.g*a,i.b+=s.color.b*a))}function z(t,n,r,s,a){var l,v,y,x,b,w,M,S,_;if(s instanceof o.ParticleCircleMaterial){if(f?(p.copyRGB(g),A(a,r,p),m.copyRGBA(s.color),m.multiplySelfRGB(p),m.updateStyleString()):m=s.color,l=r.scale.x*i,v=r.scale.y*e,u.set(t-l,n-v,t+l,n+v),!h.instersects(u))return;c.save(),c.translate(t,n),c.rotate(-r.rotation),c.scale(l,v),c.beginPath(),c.arc(0,0,1,0,d,!0),c.closePath(),c.fillStyle=m.__styleString,c.fill(),c.restore()}else if(s instanceof o.ParticleBitmapMaterial){if(M=s.bitmap,S=M.width/2,_=M.height/2,y=r.scale.x*i,x=r.scale.y*e,l=y*S,v=x*_,b=s.offset.x*y,w=s.offset.y*x,u.set(t+b-l,n+w-v,t+b+l,n+w+v),!h.instersects(u))return;c.save(),c.translate(t,n),c.rotate(-r.rotation),c.scale(y,-x),c.translate(-S+s.offset.x,-_-s.offset.y),c.drawImage(M,0,0),c.restore()}}function E(t,n,i,e,r,s,a){s instanceof o.LineColorMaterial&&(f?(p.copyRGB(g),A(a,r,p),m.copyRGBA(s.color),m.multiplySelfRGB(p),m.updateStyleString()):m=s.color,c.lineWidth=s.lineWidth,c.lineJoin="round",c.lineCap="round",c.strokeStyle=m.__styleString,c.stroke(),u.inflate(c.lineWidth))}function P(t,n,i,e,r,s,a,h,l){var d,v,y;h instanceof o.MeshColorFillMaterial?(f?(p.copyRGB(g),L(l,a,p),m.copyRGBA(h.color),m.multiplySelfRGB(p),m.updateStyleString()):m=h.color,c.beginPath(),c.moveTo(t,n),c.lineTo(i,e),c.lineTo(r,s),c.lineTo(t,n),c.closePath(),c.fillStyle=m.__styleString,c.fill()):h instanceof o.MeshColorStrokeMaterial?(f?(p.copyRGB(g),L(l,a,p),m.copyRGBA(h.color),m.multiplySelfRGB(p),m.updateStyleString()):m=h.color,c.beginPath(),c.moveTo(t,n),c.lineTo(i,e),c.lineTo(r,s),c.lineTo(t,n),c.closePath(),c.lineWidth=h.lineWidth,c.lineJoin="round",c.lineCap="round",c.strokeStyle=m.__styleString,c.stroke(),u.inflate(c.lineWidth)):h instanceof o.MeshBitmapMaterial&&(d=h.bitmap,v=d.width-1,y=d.height-1,x.copy(a.uvs[0]),b.copy(a.uvs[1]),w.copy(a.uvs[2]),x.u*=v,x.v*=y,b.u*=v,b.v*=y,w.u*=v,w.v*=y,T(d,t,n,i,e,r,s,x.u,x.v,b.u,b.v,w.u,w.v))}function C(t,n,i,e,r,s,a,h,l,d,v,y,S,_,R){var A,z,E;_ instanceof o.MeshColorFillMaterial?(f?(p.copyRGB(g),L(R,S,p),m.copyRGBA(_.color),m.multiplySelfRGB(p),m.updateStyleString()):m=_.color,c.beginPath(),c.moveTo(t,n),c.lineTo(i,e),c.lineTo(r,s),c.lineTo(a,h),c.lineTo(t,n),c.closePath(),c.fillStyle=m.__styleString,c.fill()):_ instanceof o.MeshColorStrokeMaterial?(f?(p.copyRGB(g),L(R,S,p),m.copyRGBA(_.color),m.multiplySelfRGB(p),m.updateStyleString()):m=_.color,c.beginPath(),c.moveTo(t,n),c.lineTo(i,e),c.lineTo(r,s),c.lineTo(a,h),c.lineTo(t,n),c.closePath(),c.lineWidth=_.lineWidth,c.lineJoin="round",c.lineCap="round",c.strokeStyle=m.__styleString,c.stroke(),u.inflate(c.lineWidth)):_ instanceof o.MeshBitmapMaterial&&(A=_.bitmap,z=A.width-1,E=A.height-1,x.copy(S.uvs[0]),b.copy(S.uvs[1]),w.copy(S.uvs[2]),M.copy(S.uvs[3]),x.u*=z,x.v*=E,b.u*=z,b.v*=E,w.u*=z,w.v*=E,M.u*=z,M.v*=E,T(A,t,n,i,e,a,h,x.u,x.v,b.u,b.v,M.u,M.v),T(A,l,d,r,s,v,y,b.u,b.v,w.u,w.v,M.u,M.v))}function T(t,n,i,e,r,o,s,a,h,l,u,f,m){var p,g,d,v,y,x,b;c.beginPath(),c.moveTo(n,i),c.lineTo(e,r),c.lineTo(o,s),c.lineTo(n,i),c.closePath(),c.save(),c.clip(),p=a*(m-u)-l*m+f*u+(l-f)*h,g=-(h*(o-e)-u*o+m*e+(u-m)*n)/p,d=(u*s+h*(r-s)-m*r+(m-u)*i)/p,v=(a*(o-e)-l*o+f*e+(l-f)*n)/p,y=-(l*s+a*(r-s)-f*r+(f-l)*i)/p,x=(a*(m*e-u*o)+h*(l*o-f*e)+(f*u-l*m)*n)/p,b=(a*(m*r-u*s)+h*(l*s-f*r)+(f*u-l*m)*i)/p,c.transform(g,d,v,y,x,b),c.drawImage(t,0,0),c.restore()}function B(t,n){v.sub(n,t),v.unit(),v.multiplyScalar(.75),n.addSelf(v),t.subSelf(v)}this.domElement=a,this.autoClear=!0,this.setSize=function(r,o){t=r,n=o,i=t/2,e=n/2,a.width=t,a.height=n,h.set(-i,-e,i,e)},this.clear=function(){l.isEmpty()||(l.inflate(1),l.minSelf(h),c.setTransform(1,0,0,-1,i,e),c.clearRect(l.getX(),l.getY(),l.getWidth(),l.getHeight()),l.empty())},this.render=function(t,n){var a,m,p,d,v,y,x,b,w,M,A,L,T,F,V,D,U,G,W,N;for(this.autoClear&&this.clear(),r=s.projectScene(t,n),c.setTransform(1,0,0,-1,i,e),f=t.lights.length>0,f&&R(t,g),a=0,m=r.length;a<m;a++){if(p=r[a],u.empty(),p instanceof o.RenderableParticle)for(w=p.x*i,M=p.y*e,d=0,v=p.material.length;d<v;d++)b=p.material[d],z(w,M,p,b,t);else if(p instanceof o.RenderableLine){if(w=p.v1.x*i,M=p.v1.y*e,A=p.v2.x*i,L=p.v2.y*e,u.addPoint(w,M),u.addPoint(A,L),!h.instersects(u))continue;for(c.beginPath(),c.moveTo(w,M),c.lineTo(A,L),c.closePath(),d=0,v=p.material.length;d<v;d++)b=p.material[d],E(w,M,A,L,p,b,t)}else if(p instanceof o.RenderableFace3){if(p.v1.x*=i,p.v1.y*=e,p.v2.x*=i,p.v2.y*=e,p.v3.x*=i,p.v3.y*=e,p.overdraw&&(B(p.v1,p.v2),B(p.v2,p.v3),B(p.v3,p.v1)),w=p.v1.x,M=p.v1.y,A=p.v2.x,L=p.v2.y,T=p.v3.x,F=p.v3.y,u.addPoint(w,M),u.addPoint(A,L),u.addPoint(T,F),!h.instersects(u))continue;d=0,v=p.meshMaterial.length;while(d<v)if(b=p.meshMaterial[d++],b instanceof o.MeshFaceMaterial){y=0,x=p.faceMaterial.length;while(y<x)b=p.faceMaterial[y++],P(w,M,A,L,T,F,p,b,t)}else P(w,M,A,L,T,F,p,b,t)}else if(p instanceof o.RenderableFace4){if(p.v1.x*=i,p.v1.y*=e,p.v2.x*=i,p.v2.y*=e,p.v3.x*=i,p.v3.y*=e,p.v4.x*=i,p.v4.y*=e,S.copy(p.v2),_.copy(p.v4),p.overdraw&&(B(p.v1,p.v2),B(p.v2,p.v4),B(p.v4,p.v1)),w=p.v1.x,M=p.v1.y,A=p.v2.x,L=p.v2.y,V=p.v4.x,D=p.v4.y,p.overdraw&&(B(p.v3,S),B(p.v3,_)),T=p.v3.x,F=p.v3.y,U=S.x,G=S.y,W=_.x,N=_.y,u.addPoint(w,M),u.addPoint(A,L),u.addPoint(T,F),u.addPoint(V,D),!h.instersects(u))continue;d=0,v=p.meshMaterial.length;while(d<v)if(b=p.meshMaterial[d++],b instanceof o.MeshFaceMaterial){y=0,x=p.faceMaterial.length;while(y<x)b=p.faceMaterial[y++],C(w,M,A,L,T,F,V,D,U,G,W,N,p,b,t)}else C(w,M,A,L,T,F,V,D,U,G,W,N,p,b,t)}l.addRectangle(u)}c.setTransform(1,0,0,1,0,0)}},o.SVGRenderer=function(){var t,n,i,e,r,s,a,c=null,h=new o.Projector,l=document.createElementNS("http://www.w3.org/2000/svg","svg"),u=new o.Rectangle,f=new o.Rectangle,m=!1,p=new o.Color(4294967295),g=new o.Color(4294967295),d=new o.Color(4294967295),v=new o.Vector3,y=[],x=[],b=1;function w(t,n){var i,e,r;for(n.setRGBA(1,1,1,1),i=0,e=t.lights.length;i<e;i++)r=t.lights[i],r instanceof o.AmbientLight&&(n.r*=r.color.r,n.g*=r.color.g,n.b*=r.color.b)}function M(t,n,i){var e,r,s;for(e=0,r=t.lights.length;e<r;e++)s=t.lights[e],s instanceof o.DirectionalLight?(i.r+=s.color.r,i.g+=s.color.g,i.b+=s.color.b):s instanceof o.PointLight&&(i.r+=s.color.r,i.g+=s.color.g,i.b+=s.color.b)}function S(t,n,i){var e,r,s,a;for(e=0,r=t.lights.length;e<r;e++)s=t.lights[e],s instanceof o.DirectionalLight?(a=n.normalWorld.dot(s.position)*s.intensity,a>0&&(i.r+=s.color.r*a,i.g+=s.color.g*a,i.b+=s.color.b*a)):s instanceof o.PointLight&&(v.sub(s.position,n.centroidWorld),v.normalize(),a=n.normalWorld.dot(v)*s.intensity,a>0&&(i.r+=s.color.r*a,i.g+=s.color.g*a,i.b+=s.color.b*a))}function _(t,n,e,s,c){r=z(a++),r.setAttribute("cx",t),r.setAttribute("cy",n),r.setAttribute("r",e.scale.x*i),s instanceof o.ParticleCircleMaterial&&(m?(g.copyRGB(d),M(c,e,g),p.copyRGBA(s.color),p.multiplySelfRGB(g),p.updateStyleString()):p=s.color,r.setAttribute("style","fill: "+p.__styleString)),l.appendChild(r)}function R(t,n,i,e,a,c,h,u,f){r=L(s++),r.setAttribute("d","M "+t+" "+n+" L "+i+" "+e+" L "+a+","+c+"z"),u instanceof o.MeshColorFillMaterial?(m?(g.copyRGB(d),S(f,h,g),p.copyRGBA(u.color),p.multiplySelfRGB(g),p.updateStyleString()):p=u.color,r.setAttribute("style","fill: "+p.__styleString)):u instanceof o.MeshColorStrokeMaterial&&(m?(g.copyRGB(d),S(f,h,g),p.copyRGBA(u.color),p.multiplySelfRGB(g),p.updateStyleString()):p=u.color,r.setAttribute("style","fill: none; stroke: "+p.__styleString+"; stroke-width: "+u.lineWidth+"; stroke-linecap: round; stroke-linejoin: round")),l.appendChild(r)}function A(t,n,i,e,a,c,h,u,f,v,y){r=L(s++),r.setAttribute("d","M "+t+" "+n+" L "+i+" "+e+" L "+a+","+c+" L "+h+","+u+"z"),v instanceof o.MeshColorFillMaterial?(m?(g.copyRGB(d),S(y,f,g),p.copyRGBA(v.color),p.multiplySelfRGB(g),p.updateStyleString()):p=v.color,r.setAttribute("style","fill: "+p.__styleString)):v instanceof o.MeshColorStrokeMaterial&&(m?(g.copyRGB(d),S(y,f,g),p.copyRGBA(v.color),p.multiplySelfRGB(g),p.updateStyleString()):p=v.color,r.setAttribute("style","fill: none; stroke: "+p.__styleString+"; stroke-width: "+v.lineWidth+"; stroke-linecap: round; stroke-linejoin: round")),l.appendChild(r)}function L(t){return null==y[t]?(y[t]=document.createElementNS("http://www.w3.org/2000/svg","path"),0==b&&y[t].setAttribute("shape-rendering","crispEdges"),y[t]):y[t]}function z(t){return null==x[t]?(x[t]=document.createElementNS("http://www.w3.org/2000/svg","circle"),0==b&&x[t].setAttribute("shape-rendering","crispEdges"),x[t]):x[t]}this.domElement=l,this.autoClear=!0,this.setQuality=function(t){switch(t){case"high":b=1;break;case"low":b=0;break}},this.setSize=function(r,o){t=r,n=o,i=t/2,e=n/2,l.setAttribute("viewBox",-i+" "+-e+" "+t+" "+n),l.setAttribute("width",t),l.setAttribute("height",n),u.set(-i,-e,i,e)},this.clear=function(){while(l.childNodes.length>0)l.removeChild(l.childNodes[0])},this.render=function(t,n){var r,l,p,g,v,y,x,b,M,S,L,z,E,P,C,T;for(this.autoClear&&this.clear(),c=h.projectScene(t,n),s=0,a=0,m=t.lights.length>0,m&&w(t,d),r=0,l=c.length;r<l;r++)if(x=c[r],f.empty(),x instanceof o.RenderableParticle)for(M=x.x*i,S=x.y*-e,p=0,g=x.material.length;p<g;p++)b=x.material[p],_(M,S,x,b,t);else if(x instanceof o.RenderableFace3){if(M=x.v1.x*i,S=x.v1.y*-e,L=x.v2.x*i,z=x.v2.y*-e,E=x.v3.x*i,P=x.v3.y*-e,f.addPoint(M,S),f.addPoint(L,z),f.addPoint(E,P),!u.instersects(f))continue;p=0,g=x.meshMaterial.length;while(p<g)if(b=x.meshMaterial[p++],b instanceof o.MeshFaceMaterial){v=0,y=x.faceMaterial.length;while(v<y)b=x.faceMaterial[v++],R(M,S,L,z,E,P,x,b,t)}else R(M,S,L,z,E,P,x,b,t)}else if(x instanceof o.RenderableFace4){if(M=x.v1.x*i,S=x.v1.y*-e,L=x.v2.x*i,z=x.v2.y*-e,E=x.v3.x*i,P=x.v3.y*-e,C=x.v4.x*i,T=x.v4.y*-e,f.addPoint(M,S),f.addPoint(L,z),f.addPoint(E,P),f.addPoint(C,T),!u.instersects(f))continue;p=0,g=x.meshMaterial.length;while(p<g)if(b=x.meshMaterial[p++],b instanceof o.MeshFaceMaterial){v=0,y=x.faceMaterial.length;while(v<y)b=x.faceMaterial[v++],A(M,S,L,z,E,P,C,T,x,b,t)}else A(M,S,L,z,E,P,C,T,x,b,t)}}},o.WebGLRenderer=function(){var t,n,i,e=document.createElement("canvas"),r=new o.Matrix4,s=0,a=1,c=2,h=3;function l(){try{t=e.getContext("experimental-webgl",{antialias:!0})}catch(n){}if(!t)throw alert("WebGL not supported"),"cannot create webgl context";t.clearColor(0,0,0,1),t.clearDepth(1),t.enable(t.DEPTH_TEST),t.depthFunc(t.LEQUAL),t.enable(t.BLEND),t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA),t.clearColor(0,0,0,0)}function u(){n=t.createProgram(),t.attachShader(n,f("fragment",["#ifdef GL_ES","precision highp float;","#endif","uniform sampler2D diffuse;","uniform vec4 uniformColor;","varying vec2 vertexUv;","varying vec3 lightWeighting;","varying vec3 vNormal;","uniform int material;","uniform vec4 mAmbient;","uniform vec4 mDiffuse;","uniform vec4 mSpecular;","uniform float mShininess;","varying vec3 pLightVectorPoint;","varying vec3 pLightVectorDirection;","varying vec3 pViewPosition;","void main(){","if(material==3) { ","vec3 lightVectorPoint = normalize(pLightVectorPoint);","vec3 lightVectorDir = normalize(pLightVectorDirection);","vec3 normal = normalize(vNormal);","vec3 viewPosition = normalize(pViewPosition);","vec3 halfVectorPoint = normalize(pLightVectorPoint + pViewPosition);","float dotNormalHalfPoint = dot(normal, halfVectorPoint);","float ambientCompPoint = 1.0;","float diffuseCompPoint = max(dot(normal, lightVectorPoint), 0.0);","float specularCompPoint = pow(dotNormalHalfPoint, mShininess);","vec4 ambientPoint  = mAmbient * ambientCompPoint;","vec4 diffusePoint  = mDiffuse * diffuseCompPoint;","vec4 specularPoint = mSpecular * specularCompPoint;","vec3 halfVectorDir = normalize(pLightVectorDirection + pViewPosition);","float dotNormalHalfDir = dot(normal, halfVectorDir);","float ambientCompDir = 1.0;","float diffuseCompDir = max(dot(normal, lightVectorDir), 0.0);","float specularCompDir = pow(dotNormalHalfDir, mShininess);","vec4 ambientDir  = mAmbient * ambientCompDir;","vec4 diffuseDir  = mDiffuse * diffuseCompDir;","vec4 specularDir = mSpecular * specularCompDir;","vec4 pointLight = ambientPoint + diffusePoint + specularPoint;","vec4 dirLight = ambientDir + diffuseDir + specularDir;","gl_FragColor = vec4((pointLight.xyz + dirLight.xyz) * lightWeighting, 1.0);","} else if(material==2) {","vec4 texelColor = texture2D(diffuse, vertexUv);","gl_FragColor = vec4(texelColor.rgb * lightWeighting, texelColor.a);","} else if(material==1) {","gl_FragColor = vec4(uniformColor.rgb * lightWeighting, uniformColor.a);","} else {","gl_FragColor = vec4(uniformColor.rgb * lightWeighting, uniformColor.a);","}","}"].join("\n"))),t.attachShader(n,f("vertex",["attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","uniform bool enableLighting;","uniform vec3 ambientColor;","uniform vec3 directionalColor;","uniform vec3 lightingDirection;","uniform vec3 pointColor;","uniform vec3 pointPosition;","uniform mat4 objMatrix;","uniform mat4 viewMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat3 normalMatrix;","varying vec4 vertexColor;","varying vec2 vertexUv;","varying vec3 lightWeighting;","varying vec3 vNormal;","varying vec3 pLightVectorPoint;","varying vec3 pLightVectorDirection;","varying vec3 pViewPosition;","uniform vec3 cameraPosition;","void main(void) {","vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );","vec3 transformedNormal = normalize(normalMatrix * normal);","vec4 lPosition = viewMatrix * vec4( pointPosition, 1.0 );","vec4 lDirection = viewMatrix * vec4( lightingDirection, 0.0 );","pLightVectorPoint = normalize(pointPosition.xyz - position.xyz);","pLightVectorDirection = normalize(lDirection.xyz);","vec4 mPosition = objMatrix * vec4( position, 1.0 );","pViewPosition = cameraPosition - mPosition.xyz;","if(!enableLighting) {","lightWeighting = vec3(1.0, 1.0, 1.0);","} else {","vec3 pointLight = normalize(lPosition.xyz - mvPosition.xyz);","float directionalLightWeighting = max(dot(transformedNormal, normalize(lDirection.xyz)), 0.0);","float pointLightWeighting = max(dot(transformedNormal, pointLight), 0.0);","lightWeighting = ambientColor + directionalColor * directionalLightWeighting + pointColor * pointLightWeighting;","}","vNormal = transformedNormal;","vertexUv = uv;","gl_Position = projectionMatrix * mvPosition;","}"].join("\n"))),t.linkProgram(n),t.getProgramParameter(n,t.LINK_STATUS)||alert("Could not initialise shaders"),t.useProgram(n),n.viewMatrix=t.getUniformLocation(n,"viewMatrix"),n.modelViewMatrix=t.getUniformLocation(n,"modelViewMatrix"),n.projectionMatrix=t.getUniformLocation(n,"projectionMatrix"),n.normalMatrix=t.getUniformLocation(n,"normalMatrix"),n.objMatrix=t.getUniformLocation(n,"objMatrix"),n.enableLighting=t.getUniformLocation(n,"enableLighting"),n.ambientColor=t.getUniformLocation(n,"ambientColor"),n.directionalColor=t.getUniformLocation(n,"directionalColor"),n.lightingDirection=t.getUniformLocation(n,"lightingDirection"),n.pointColor=t.getUniformLocation(n,"pointColor"),n.pointPosition=t.getUniformLocation(n,"pointPosition"),n.material=t.getUniformLocation(n,"material"),n.uniformColor=t.getUniformLocation(n,"uniformColor"),n.mAmbient=t.getUniformLocation(n,"mAmbient"),n.mDiffuse=t.getUniformLocation(n,"mDiffuse"),n.mSpecular=t.getUniformLocation(n,"mSpecular"),n.mShininess=t.getUniformLocation(n,"mShininess"),n.cameraPosition=t.getUniformLocation(n,"cameraPosition"),n.position=t.getAttribLocation(n,"position"),t.enableVertexAttribArray(n.position),n.normal=t.getAttribLocation(n,"normal"),t.enableVertexAttribArray(n.normal),n.uv=t.getAttribLocation(n,"uv"),t.enableVertexAttribArray(n.uv),n.diffuse=t.getUniformLocation(n,"diffuse"),t.uniform1i(n.diffuse,0),n.viewMatrixArray=new Float32Array(16),n.modelViewMatrixArray=new Float32Array(16),n.projectionMatrixArray=new Float32Array(16)}function f(n,i){var e;return"fragment"==n?e=t.createShader(t.FRAGMENT_SHADER):"vertex"==n&&(e=t.createShader(t.VERTEX_SHADER)),t.shaderSource(e,i),t.compileShader(e),t.getShaderParameter(e,t.COMPILE_STATUS)?e:(alert(t.getShaderInfoLog(e)),null)}this.domElement=e,this.autoClear=!0,l(),u(),this.setSize=function(n,i){e.width=n,e.height=i,t.viewport(0,0,e.width,e.height)},this.clear=function(){t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT)},this.setupLights=function(i){var e,r,s,a,c,h;for(t.uniform1i(n.enableLighting,i.lights.length),e=0,r=i.lights.length;e<r;e++)h=i.lights[e],h instanceof o.AmbientLight?(s=h.color,t.uniform3f(n.ambientColor,s.r,s.g,s.b)):h instanceof o.DirectionalLight?(s=h.color,a=h.position,c=h.intensity,t.uniform3f(n.lightingDirection,a.x,a.y,a.z),t.uniform3f(n.directionalColor,s.r*c,s.g*c,s.b*c)):h instanceof o.PointLight&&(s=h.color,a=h.position,c=h.intensity,t.uniform3f(n.pointPosition,a.x,a.y,a.z),t.uniform3f(n.pointColor,s.r*c,s.g*c,s.b*c))},this.createBuffers=function(n,i){var e,r,s,a,c,h,l,u,f,m,p,g=n.materialFaceGroup[i],d=[],v=[],y=[],x=[],b=[],w=0;for(e=0,r=g.faces.length;e<r;e++)s=g.faces[e],a=n.geometry.faces[s],c=a.vertexNormals,h=a.normal,l=n.geometry.uvs[s],a instanceof o.Face3?(u=n.geometry.vertices[a.a].position,f=n.geometry.vertices[a.b].position,m=n.geometry.vertices[a.c].position,y.push(u.x,u.y,u.z),y.push(f.x,f.y,f.z),y.push(m.x,m.y,m.z),3==c.length?(x.push(c[0].x,c[0].y,c[0].z),x.push(c[1].x,c[1].y,c[1].z),x.push(c[2].x,c[2].y,c[2].z)):(x.push(h.x,h.y,h.z),x.push(h.x,h.y,h.z),x.push(h.x,h.y,h.z)),l&&(b.push(l[0].u,l[0].v),b.push(l[1].u,l[1].v),b.push(l[2].u,l[2].v)),d.push(w,w+1,w+2),v.push(w,w+1),v.push(w,w+2),v.push(w+1,w+2),w+=3):a instanceof o.Face4&&(u=n.geometry.vertices[a.a].position,f=n.geometry.vertices[a.b].position,m=n.geometry.vertices[a.c].position,p=n.geometry.vertices[a.d].position,y.push(u.x,u.y,u.z),y.push(f.x,f.y,f.z),y.push(m.x,m.y,m.z),y.push(p.x,p.y,p.z),4==c.length?(x.push(c[0].x,c[0].y,c[0].z),x.push(c[1].x,c[1].y,c[1].z),x.push(c[2].x,c[2].y,c[2].z),x.push(c[3].x,c[3].y,c[3].z)):(x.push(h.x,h.y,h.z),x.push(h.x,h.y,h.z),x.push(h.x,h.y,h.z),x.push(h.x,h.y,h.z)),l&&(b.push(l[0].u,l[0].v),b.push(l[1].u,l[1].v),b.push(l[2].u,l[2].v),b.push(l[3].u,l[3].v)),d.push(w,w+1,w+2),d.push(w,w+2,w+3),v.push(w,w+1),v.push(w,w+2),v.push(w,w+3),v.push(w+1,w+2),v.push(w+2,w+3),w+=4);y.length&&(g.__webGLVertexBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,g.__webGLVertexBuffer),t.bufferData(t.ARRAY_BUFFER,new Float32Array(y),t.STATIC_DRAW),g.__webGLNormalBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,g.__webGLNormalBuffer),t.bufferData(t.ARRAY_BUFFER,new Float32Array(x),t.STATIC_DRAW),g.__webGLUVBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,g.__webGLUVBuffer),t.bufferData(t.ARRAY_BUFFER,new Float32Array(b),t.STATIC_DRAW),g.__webGLFaceBuffer=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,g.__webGLFaceBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array(d),t.STATIC_DRAW),g.__webGLLineBuffer=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,g.__webGLLineBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array(v),t.STATIC_DRAW),g.__webGLFaceCount=d.length,g.__webGLLineCount=v.length)},this.renderBuffer=function(i,e){i instanceof o.MeshPhongMaterial?(mAmbient=i.ambient,mDiffuse=i.diffuse,mSpecular=i.specular,t.uniform4f(n.mAmbient,mAmbient.r,mAmbient.g,mAmbient.b,i.opacity),t.uniform4f(n.mDiffuse,mDiffuse.r,mDiffuse.g,mDiffuse.b,i.opacity),t.uniform4f(n.mSpecular,mSpecular.r,mSpecular.g,mSpecular.b,i.opacity),t.uniform1f(n.mShininess,i.shininess),t.uniform1i(n.material,h)):i instanceof o.MeshColorFillMaterial?(color=i.color,t.uniform4f(n.uniformColor,color.r*color.a,color.g*color.a,color.b*color.a,color.a),t.uniform1i(n.material,s)):i instanceof o.MeshColorStrokeMaterial?(lineWidth=i.lineWidth,color=i.color,t.uniform4f(n.uniformColor,color.r*color.a,color.g*color.a,color.b*color.a,color.a),t.uniform1i(n.material,a)):i instanceof o.MeshBitmapMaterial&&(!i.__webGLTexture&&i.loaded&&(i.__webGLTexture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,i.__webGLTexture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,i.bitmap),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR_MIPMAP_LINEAR),t.generateMipmap(t.TEXTURE_2D),t.bindTexture(t.TEXTURE_2D,null)),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,i.__webGLTexture),t.uniform1i(n.diffuse,0),t.uniform1i(n.material,c)),t.bindBuffer(t.ARRAY_BUFFER,e.__webGLVertexBuffer),t.vertexAttribPointer(n.position,3,t.FLOAT,!1,0,0),t.bindBuffer(t.ARRAY_BUFFER,e.__webGLNormalBuffer),t.vertexAttribPointer(n.normal,3,t.FLOAT,!1,0,0),i instanceof o.MeshBitmapMaterial?(t.bindBuffer(t.ARRAY_BUFFER,e.__webGLUVBuffer),t.enableVertexAttribArray(n.uv),t.vertexAttribPointer(n.uv,2,t.FLOAT,!1,0,0)):t.disableVertexAttribArray(n.uv),i instanceof o.MeshBitmapMaterial||i instanceof o.MeshColorFillMaterial||i instanceof o.MeshPhongMaterial?(t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.__webGLFaceBuffer),t.drawElements(t.TRIANGLES,e.__webGLFaceCount,t.UNSIGNED_SHORT,0)):i instanceof o.MeshColorStrokeMaterial&&(t.lineWidth(lineWidth),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.__webGLLineBuffer),t.drawElements(t.LINES,e.__webGLLineCount,t.UNSIGNED_SHORT,0))},this.renderMesh=function(t,n){var i,e,r,s,a,c,h,l;for(a in t.materialFaceGroup)for(l=t.materialFaceGroup[a],l.__webGLVertexBuffer||this.createBuffers(t,a),r=0,s=t.material.length;r<s;r++)if(h=t.material[r],h instanceof o.MeshFaceMaterial)for(i=0,e=l.material.length;i<e;i++)c=l.material[i],this.renderBuffer(c,l);else c=h,this.renderBuffer(c,l)},this.setupMatrices=function(e,s){e.autoUpdateMatrix&&e.updateMatrix(),r.multiply(s.matrix,e.matrix),n.viewMatrixArray=new Float32Array(s.matrix.flatten()),n.modelViewMatrixArray=new Float32Array(r.flatten()),n.projectionMatrixArray=new Float32Array(s.projectionMatrix.flatten()),i=o.Matrix4.makeInvert3x3(r).transpose(),n.normalMatrixArray=new Float32Array(i.m),t.uniformMatrix4fv(n.viewMatrix,!1,n.viewMatrixArray),t.uniformMatrix4fv(n.modelViewMatrix,!1,n.modelViewMatrixArray),t.uniformMatrix4fv(n.projectionMatrix,!1,n.projectionMatrixArray),t.uniformMatrix3fv(n.normalMatrix,!1,n.normalMatrixArray),t.uniformMatrix4fv(n.objMatrix,!1,new Float32Array(e.matrix.flatten()))},this.render=function(i,e){var r,s,a;for(this.autoClear&&this.clear(),e.autoUpdateMatrix&&e.updateMatrix(),t.uniform3f(n.cameraPosition,e.position.x,e.position.y,e.position.z),this.setupLights(i),r=0,s=i.objects.length;r<s;r++)a=i.objects[r],this.setupMatrices(a,e),a instanceof o.Mesh?this.renderMesh(a,e):a instanceof o.Line||o.Particle}},o.RenderableFace3=function(){this.v1=new o.Vector2,this.v2=new o.Vector2,this.v3=new o.Vector2,this.centroidWorld=new o.Vector3,this.normalWorld=new o.Vector3,this.z=null,this.color=null,this.material=null},o.RenderableFace4=function(){this.v1=new o.Vector2,this.v2=new o.Vector2,this.v3=new o.Vector2,this.v4=new o.Vector2,this.centroidWorld=new o.Vector3,this.normalWorld=new o.Vector3,this.z=null,this.color=null,this.material=null},o.RenderableParticle=function(){this.x=null,this.y=null,this.z=null,this.rotation=null,this.scale=new o.Vector2,this.color=null,this.material=null},o.RenderableLine=function(){this.v1=new o.Vector2,this.v2=new o.Vector2,this.z=null,this.color=null,this.material=null};var s=o,a=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("Form",{ref:"loginForm",attrs:{model:t.form,rules:t.rules,"label-width":100},nativeOn:{keydown:function(n){return!n.type.indexOf("key")&&t._k(n.keyCode,"enter",13,n.key,"Enter")?null:t.handleSubmit(n)}}},[i("FormItem",{attrs:{label:"用户名：",prop:"userName"}},[i("Input",{attrs:{placeholder:"请输入用户名"},model:{value:t.form.userName,callback:function(n){t.$set(t.form,"userName",n)},expression:"form.userName"}},[i("span",{attrs:{slot:"prepend"},slot:"prepend"},[i("Icon",{attrs:{size:16,type:"ios-person"}})],1)])],1),i("FormItem",{attrs:{label:"登录密码：",prop:"userPwd"}},[i("Input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:t.form.userPwd,callback:function(n){t.$set(t.form,"userPwd",n)},expression:"form.userPwd"}},[i("span",{attrs:{slot:"prepend"},slot:"prepend"},[i("Icon",{attrs:{size:14,type:"md-lock"}})],1)])],1),i("FormItem",["login"===t.$route.name?i("Button",{attrs:{loading:t.submitLoading,type:"primary",long:""},on:{click:function(n){return n.stopPropagation(),t.handleSubmit(n)}}},[t._v("登录")]):t._e(),"login"===t.$route.name?i("span",{staticClass:"registTip",on:{click:function(n){return t.$router.push({name:"regist"})}}},[t._v("还没账号？"),i("span",[t._v("去注册")])]):t._e(),"regist"===t.$route.name?i("Button",{attrs:{type:"primary",long:""},on:{click:function(n){return n.stopPropagation(),t.regist(n)}}},[t._v("注册")]):t._e(),"regist"===t.$route.name?i("span",{staticClass:"registTip",on:{click:function(n){return t.$router.push({name:"login"})}}},[t._v("已注册！"),i("span",[t._v("去登录")])]):t._e()],1)],1)},c=[],h=(i("96cf"),i("3b8d")),l=i("c24f"),u=i("90fe"),f={name:"LoginForm",props:{userNameRules:{type:Array,default:function(){return[{required:!0,message:"账号不能为空",trigger:"blur"}]}},userPwdRules:{type:Array,default:function(){return[{required:!0,message:"密码不能为空",trigger:"blur"}]}}},data:function(){return{submitLoading:!1,form:{userName:"",userPwd:""}}},computed:{rules:function(){return{userName:this.userNameRules,userPwd:this.userPwdRules}}},methods:{handleSubmit:function(){var t=this;this.$refs.loginForm.validate(function(n){n&&(t.submitLoading=!0,t.handleLogin(t.form),t.submitLoading=!1)})},handleLogin:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(n){var i,e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(l["m"])(n);case 2:i=t.sent,0==i.status?i.result.access&&"super_admin"==i.result.access?(Object(u["c"])("userInfo",i.result),this.$Message.success({content:"登录成功,正在跳转...",duration:2}),setTimeout(function(){e.$router.push({name:"admin"})},2e3)):(Object(u["c"])("userInfo",i.result),this.$Message.success({content:"登录成功,正在跳转...",duration:2}),setTimeout(function(){e.$router.push({name:"home"})},2e3)):this.$Message.error(i.msg);case 4:case"end":return t.stop()}},t,this)}));function n(n){return t.apply(this,arguments)}return n}(),regist:function(){var t=this;this.$refs.loginForm.validate(function(n){n&&t._regist(t.form)})},_regist:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(n){var i,e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(l["n"])(n);case 2:i=t.sent,0===i.status?(this.$Message.success({content:"注册成功,去登录吧！",duration:2}),setTimeout(function(){e.$router.push({name:"login"})},2e3)):1==i.status&&this.$Message.error(i.msg);case 4:case"end":return t.stop()}},t,this)}));function n(n){return t.apply(this,arguments)}return n}()}},m=f,p=(i("3121"),i("2877")),g=Object(p["a"])(m,a,c,!1,null,"5bdf5be4",null),d=g.exports,v={data:function(){return{interval:null,showLogin:!1}},components:{LoginForm:d},watch:{$route:function(t,n){this.$router.go(0)}},mounted:function(){this.showLogin=!0,this.init3D()},methods:{handleSubmit:function(t){this.handleLogin(t)},init3D:function(){var t,n,i,e,r,o,a,c=window.innerWidth,h=window.innerHeight,l=90,u=50,f=50,m=0,p=window.innerWidth/2,g=window.innerHeight/2;function d(){t=document.createElement("div"),t.style.position="relative",t.style.top="200px",document.getElementById("loginThree").appendChild(t),r=new s.Camera(75,c/h,1,1e4),r.position.z=1e3,o=new s.Scene,a=new s.CanvasRenderer,a.setSize(c,h),n=new Array;for(var m=0,p=new s.ParticleCircleMaterial(621531,1),g=0;g<u;g++)for(var d=0;d<f;d++)i=n[m++]=new s.Particle(p),i.position.x=g*l-u*l/2,i.position.z=d*l-f*l/2,o.add(i);e=0,t.appendChild(a.domElement),document.addEventListener("mousemove",v,!1),document.addEventListener("touchmove",y,!1)}function v(t){m=t.clientX-p,t.clientY-g}function y(t){1==t.touches.length&&(t.preventDefault(),m=t.touches[0].pageX-p,t.touches[0].pageY-g)}function x(){r.position.x+=.05*(m-r.position.x),r.position.y=364;for(var t=0,s=0;s<u;s++)for(var c=0;c<f;c++)i=n[t++],i.position.y=50*Math.sin(.3*(s+e))+50*Math.sin(.5*(c+e)),i.scale.x=i.scale.y=2*(Math.sin(.3*(s+e))+1)+2*(Math.sin(.5*(c+e))+1);a.render(o,r),e+=.1}d(),this.interval=setInterval(x,1e3/60)}},beforeDestroy:function(){this.interval&&clearInterval(this.interval)}},y=v,x=(i("e330"),i("e3c1"),Object(p["a"])(y,e,r,!1,null,null,null));n["default"]=x.exports},e330:function(t,n,i){"use strict";var e=i("67b5"),r=i.n(e);r.a},e3c1:function(t,n,i){"use strict";var e=i("8c36"),r=i.n(e);r.a},e853:function(t,n,i){var e=i("d3f4"),r=i("1169"),o=i("2b4c")("species");t.exports=function(t){var n;return r(t)&&(n=t.constructor,"function"!=typeof n||n!==Array&&!r(n.prototype)||(n=void 0),e(n)&&(n=n[o],null===n&&(n=void 0))),void 0===n?Array:n}},ec30:function(t,n,i){"use strict";if(i("9e1e")){var e=i("2d00"),r=i("7726"),o=i("79e5"),s=i("5ca1"),a=i("0f88"),c=i("ed0b"),h=i("9b43"),l=i("f605"),u=i("4630"),f=i("32e9"),m=i("dcbc"),p=i("4588"),g=i("9def"),d=i("09fa"),v=i("77f1"),y=i("6a99"),x=i("69a8"),b=i("23c6"),w=i("d3f4"),M=i("4bf8"),S=i("33a4"),_=i("2aeb"),R=i("38fd"),A=i("9093").f,L=i("27ee"),z=i("ca5a"),E=i("2b4c"),P=i("0a49"),C=i("c366"),T=i("ebd6"),B=i("cadf"),F=i("84f2"),V=i("5cc5"),D=i("7a56"),U=i("36bd"),G=i("ba92"),W=i("86cc"),N=i("11e9"),j=W.f,I=N.f,k=r.RangeError,O=r.TypeError,H=r.Uint8Array,Y="ArrayBuffer",X="Shared"+Y,$="BYTES_PER_ELEMENT",q="prototype",J=Array[q],Z=c.ArrayBuffer,Q=c.DataView,K=P(0),tt=P(2),nt=P(3),it=P(4),et=P(5),rt=P(6),ot=C(!0),st=C(!1),at=B.values,ct=B.keys,ht=B.entries,lt=J.lastIndexOf,ut=J.reduce,ft=J.reduceRight,mt=J.join,pt=J.sort,gt=J.slice,dt=J.toString,vt=J.toLocaleString,yt=E("iterator"),xt=E("toStringTag"),bt=z("typed_constructor"),wt=z("def_constructor"),Mt=a.CONSTR,St=a.TYPED,_t=a.VIEW,Rt="Wrong length!",At=P(1,function(t,n){return Ct(T(t,t[wt]),n)}),Lt=o(function(){return 1===new H(new Uint16Array([1]).buffer)[0]}),zt=!!H&&!!H[q].set&&o(function(){new H(1).set({})}),Et=function(t,n){var i=p(t);if(i<0||i%n)throw k("Wrong offset!");return i},Pt=function(t){if(w(t)&&St in t)return t;throw O(t+" is not a typed array!")},Ct=function(t,n){if(!(w(t)&&bt in t))throw O("It is not a typed array constructor!");return new t(n)},Tt=function(t,n){return Bt(T(t,t[wt]),n)},Bt=function(t,n){var i=0,e=n.length,r=Ct(t,e);while(e>i)r[i]=n[i++];return r},Ft=function(t,n,i){j(t,n,{get:function(){return this._d[i]}})},Vt=function(t){var n,i,e,r,o,s,a=M(t),c=arguments.length,l=c>1?arguments[1]:void 0,u=void 0!==l,f=L(a);if(void 0!=f&&!S(f)){for(s=f.call(a),e=[],n=0;!(o=s.next()).done;n++)e.push(o.value);a=e}for(u&&c>2&&(l=h(l,arguments[2],2)),n=0,i=g(a.length),r=Ct(this,i);i>n;n++)r[n]=u?l(a[n],n):a[n];return r},Dt=function(){var t=0,n=arguments.length,i=Ct(this,n);while(n>t)i[t]=arguments[t++];return i},Ut=!!H&&o(function(){vt.call(new H(1))}),Gt=function(){return vt.apply(Ut?gt.call(Pt(this)):Pt(this),arguments)},Wt={copyWithin:function(t,n){return G.call(Pt(this),t,n,arguments.length>2?arguments[2]:void 0)},every:function(t){return it(Pt(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return U.apply(Pt(this),arguments)},filter:function(t){return Tt(this,tt(Pt(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return et(Pt(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return rt(Pt(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){K(Pt(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return st(Pt(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return ot(Pt(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return mt.apply(Pt(this),arguments)},lastIndexOf:function(t){return lt.apply(Pt(this),arguments)},map:function(t){return At(Pt(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return ut.apply(Pt(this),arguments)},reduceRight:function(t){return ft.apply(Pt(this),arguments)},reverse:function(){var t,n=this,i=Pt(n).length,e=Math.floor(i/2),r=0;while(r<e)t=n[r],n[r++]=n[--i],n[i]=t;return n},some:function(t){return nt(Pt(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return pt.call(Pt(this),t)},subarray:function(t,n){var i=Pt(this),e=i.length,r=v(t,e);return new(T(i,i[wt]))(i.buffer,i.byteOffset+r*i.BYTES_PER_ELEMENT,g((void 0===n?e:v(n,e))-r))}},Nt=function(t,n){return Tt(this,gt.call(Pt(this),t,n))},jt=function(t){Pt(this);var n=Et(arguments[1],1),i=this.length,e=M(t),r=g(e.length),o=0;if(r+n>i)throw k(Rt);while(o<r)this[n+o]=e[o++]},It={entries:function(){return ht.call(Pt(this))},keys:function(){return ct.call(Pt(this))},values:function(){return at.call(Pt(this))}},kt=function(t,n){return w(t)&&t[St]&&"symbol"!=typeof n&&n in t&&String(+n)==String(n)},Ot=function(t,n){return kt(t,n=y(n,!0))?u(2,t[n]):I(t,n)},Ht=function(t,n,i){return!(kt(t,n=y(n,!0))&&w(i)&&x(i,"value"))||x(i,"get")||x(i,"set")||i.configurable||x(i,"writable")&&!i.writable||x(i,"enumerable")&&!i.enumerable?j(t,n,i):(t[n]=i.value,t)};Mt||(N.f=Ot,W.f=Ht),s(s.S+s.F*!Mt,"Object",{getOwnPropertyDescriptor:Ot,defineProperty:Ht}),o(function(){dt.call({})})&&(dt=vt=function(){return mt.call(this)});var Yt=m({},Wt);m(Yt,It),f(Yt,yt,It.values),m(Yt,{slice:Nt,set:jt,constructor:function(){},toString:dt,toLocaleString:Gt}),Ft(Yt,"buffer","b"),Ft(Yt,"byteOffset","o"),Ft(Yt,"byteLength","l"),Ft(Yt,"length","e"),j(Yt,xt,{get:function(){return this[St]}}),t.exports=function(t,n,i,c){c=!!c;var h=t+(c?"Clamped":"")+"Array",u="get"+t,m="set"+t,p=r[h],v=p||{},y=p&&R(p),x=!p||!a.ABV,M={},S=p&&p[q],L=function(t,i){var e=t._d;return e.v[u](i*n+e.o,Lt)},z=function(t,i,e){var r=t._d;c&&(e=(e=Math.round(e))<0?0:e>255?255:255&e),r.v[m](i*n+r.o,e,Lt)},E=function(t,n){j(t,n,{get:function(){return L(this,n)},set:function(t){return z(this,n,t)},enumerable:!0})};x?(p=i(function(t,i,e,r){l(t,p,h,"_d");var o,s,a,c,u=0,m=0;if(w(i)){if(!(i instanceof Z||(c=b(i))==Y||c==X))return St in i?Bt(p,i):Vt.call(p,i);o=i,m=Et(e,n);var v=i.byteLength;if(void 0===r){if(v%n)throw k(Rt);if(s=v-m,s<0)throw k(Rt)}else if(s=g(r)*n,s+m>v)throw k(Rt);a=s/n}else a=d(i),s=a*n,o=new Z(s);f(t,"_d",{b:o,o:m,l:s,e:a,v:new Q(o)});while(u<a)E(t,u++)}),S=p[q]=_(Yt),f(S,"constructor",p)):o(function(){p(1)})&&o(function(){new p(-1)})&&V(function(t){new p,new p(null),new p(1.5),new p(t)},!0)||(p=i(function(t,i,e,r){var o;return l(t,p,h),w(i)?i instanceof Z||(o=b(i))==Y||o==X?void 0!==r?new v(i,Et(e,n),r):void 0!==e?new v(i,Et(e,n)):new v(i):St in i?Bt(p,i):Vt.call(p,i):new v(d(i))}),K(y!==Function.prototype?A(v).concat(A(y)):A(v),function(t){t in p||f(p,t,v[t])}),p[q]=S,e||(S.constructor=p));var P=S[yt],C=!!P&&("values"==P.name||void 0==P.name),T=It.values;f(p,bt,!0),f(S,St,h),f(S,_t,!0),f(S,wt,p),(c?new p(1)[xt]==h:xt in S)||j(S,xt,{get:function(){return h}}),M[h]=p,s(s.G+s.W+s.F*(p!=v),M),s(s.S,h,{BYTES_PER_ELEMENT:n}),s(s.S+s.F*o(function(){v.of.call(p,1)}),h,{from:Vt,of:Dt}),$ in S||f(S,$,n),s(s.P,h,Wt),D(h),s(s.P+s.F*zt,h,{set:jt}),s(s.P+s.F*!C,h,It),e||S.toString==dt||(S.toString=dt),s(s.P+s.F*o(function(){new p(1).slice()}),h,{slice:Nt}),s(s.P+s.F*(o(function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()})||!o(function(){S.toLocaleString.call([1,2])})),h,{toLocaleString:Gt}),F[h]=C?P:T,e||C||f(S,yt,T)}}else t.exports=function(){}},ed0b:function(t,n,i){"use strict";var e=i("7726"),r=i("9e1e"),o=i("2d00"),s=i("0f88"),a=i("32e9"),c=i("dcbc"),h=i("79e5"),l=i("f605"),u=i("4588"),f=i("9def"),m=i("09fa"),p=i("9093").f,g=i("86cc").f,d=i("36bd"),v=i("7f20"),y="ArrayBuffer",x="DataView",b="prototype",w="Wrong length!",M="Wrong index!",S=e[y],_=e[x],R=e.Math,A=e.RangeError,L=e.Infinity,z=S,E=R.abs,P=R.pow,C=R.floor,T=R.log,B=R.LN2,F="buffer",V="byteLength",D="byteOffset",U=r?"_b":F,G=r?"_l":V,W=r?"_o":D;function N(t,n,i){var e,r,o,s=new Array(i),a=8*i-n-1,c=(1<<a)-1,h=c>>1,l=23===n?P(2,-24)-P(2,-77):0,u=0,f=t<0||0===t&&1/t<0?1:0;for(t=E(t),t!=t||t===L?(r=t!=t?1:0,e=c):(e=C(T(t)/B),t*(o=P(2,-e))<1&&(e--,o*=2),t+=e+h>=1?l/o:l*P(2,1-h),t*o>=2&&(e++,o/=2),e+h>=c?(r=0,e=c):e+h>=1?(r=(t*o-1)*P(2,n),e+=h):(r=t*P(2,h-1)*P(2,n),e=0));n>=8;s[u++]=255&r,r/=256,n-=8);for(e=e<<n|r,a+=n;a>0;s[u++]=255&e,e/=256,a-=8);return s[--u]|=128*f,s}function j(t,n,i){var e,r=8*i-n-1,o=(1<<r)-1,s=o>>1,a=r-7,c=i-1,h=t[c--],l=127&h;for(h>>=7;a>0;l=256*l+t[c],c--,a-=8);for(e=l&(1<<-a)-1,l>>=-a,a+=n;a>0;e=256*e+t[c],c--,a-=8);if(0===l)l=1-s;else{if(l===o)return e?NaN:h?-L:L;e+=P(2,n),l-=s}return(h?-1:1)*e*P(2,l-n)}function I(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function k(t){return[255&t]}function O(t){return[255&t,t>>8&255]}function H(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function Y(t){return N(t,52,8)}function X(t){return N(t,23,4)}function $(t,n,i){g(t[b],n,{get:function(){return this[i]}})}function q(t,n,i,e){var r=+i,o=m(r);if(o+n>t[G])throw A(M);var s=t[U]._b,a=o+t[W],c=s.slice(a,a+n);return e?c:c.reverse()}function J(t,n,i,e,r,o){var s=+i,a=m(s);if(a+n>t[G])throw A(M);for(var c=t[U]._b,h=a+t[W],l=e(+r),u=0;u<n;u++)c[h+u]=l[o?u:n-u-1]}if(s.ABV){if(!h(function(){S(1)})||!h(function(){new S(-1)})||h(function(){return new S,new S(1.5),new S(NaN),S.name!=y})){S=function(t){return l(this,S),new z(m(t))};for(var Z,Q=S[b]=z[b],K=p(z),tt=0;K.length>tt;)(Z=K[tt++])in S||a(S,Z,z[Z]);o||(Q.constructor=S)}var nt=new _(new S(2)),it=_[b].setInt8;nt.setInt8(0,2147483648),nt.setInt8(1,2147483649),!nt.getInt8(0)&&nt.getInt8(1)||c(_[b],{setInt8:function(t,n){it.call(this,t,n<<24>>24)},setUint8:function(t,n){it.call(this,t,n<<24>>24)}},!0)}else S=function(t){l(this,S,y);var n=m(t);this._b=d.call(new Array(n),0),this[G]=n},_=function(t,n,i){l(this,_,x),l(t,S,x);var e=t[G],r=u(n);if(r<0||r>e)throw A("Wrong offset!");if(i=void 0===i?e-r:f(i),r+i>e)throw A(w);this[U]=t,this[W]=r,this[G]=i},r&&($(S,V,"_l"),$(_,F,"_b"),$(_,V,"_l"),$(_,D,"_o")),c(_[b],{getInt8:function(t){return q(this,1,t)[0]<<24>>24},getUint8:function(t){return q(this,1,t)[0]},getInt16:function(t){var n=q(this,2,t,arguments[1]);return(n[1]<<8|n[0])<<16>>16},getUint16:function(t){var n=q(this,2,t,arguments[1]);return n[1]<<8|n[0]},getInt32:function(t){return I(q(this,4,t,arguments[1]))},getUint32:function(t){return I(q(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return j(q(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return j(q(this,8,t,arguments[1]),52,8)},setInt8:function(t,n){J(this,1,t,k,n)},setUint8:function(t,n){J(this,1,t,k,n)},setInt16:function(t,n){J(this,2,t,O,n,arguments[2])},setUint16:function(t,n){J(this,2,t,O,n,arguments[2])},setInt32:function(t,n){J(this,4,t,H,n,arguments[2])},setUint32:function(t,n){J(this,4,t,H,n,arguments[2])},setFloat32:function(t,n){J(this,4,t,X,n,arguments[2])},setFloat64:function(t,n){J(this,8,t,Y,n,arguments[2])}});v(S,y),v(_,x),a(_[b],s.VIEW,!0),n[y]=S,n[x]=_}}]);